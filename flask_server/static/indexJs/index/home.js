"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}if(!(window.ActiveXObject||"ActiveXObject"in window)){var __getClientLogo=function(){var t,e=["%c"],i=[];JSON.parse(decodeURI(atob("JTVCJTVCJTIyJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwLy8lMjIsJTIyJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1QyU1QyU1QyUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMC8vJTIyLCUyMiUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlNUMlNUMlNUMlNUMlMjAlMjAlMjAlMjAlMjAlMjAlMjAvLyUyMiwlMjIlMjIlNUQsJTVCJTIyJTIwJTIwJTIwJTIwIyNEREREREREREREREREREREREREREREIyMlMjIsJTIyJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwREREREREREREREREREREREREREQlMjAjIyUyMiwlMjIlMjAlMjAlMjBfX19fX19fXyUyMCUyMCUyMF9fXyUyMCUyMCUyMF9fXyUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMF9fXyUyMCUyMCUyMF9fX19fX19fJTIwJTIwJTIwX19fJTIwJTIwJTIwX19fJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwX19fJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwaGglMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBoaCUyMCMjJTIyLCUyMiUyMCUyMCUyMCU3QyU1QyU1QyUyMCUyMCUyMF9fJTIwJTIwJTVDJTVDJTIwJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTIwJTIwJTIwJTIwJTIwJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTdDJTVDJTVDJTIwJTIwJTIwX18lMjAlMjAlNUMlNUMlMjAlN0MlNUMlNUMlMjAlMjAlNUMlNUMlMjAlN0MlNUMlNUMlMjAlMjAlNUMlNUMlMjAlMjAlMjAlMjAlMjAlMjAlN0MlNUMlNUMlMjAlMjAlNUMlNUMlMjIlNUQsJTVCJTIyJTIwJTIwJTIwJTIwIyMlMjBoaCUyMCUyMCUyMCUyMC8vJTIwJTIwJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTIwJTIwJTIwaGglMjAjIyUyMiwlMjIlMjAlMjAlMjAlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlN0MlNUMlNUMlMjAvXyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMCUyMCUyMCUyMCUyMCU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU3QyU1QyU1QyUyMC9fJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTIwJTIwJTIwJTIwJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwaGglMjAlMjAlMjAvLyUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1QyU1QyU1QyUyMCUyMCUyMGhoJTIwIyMlMjIsJTIyJTIwJTIwJTIwJTIwJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTIwX18lMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlMjAlMjAlMjAlMjAlMjAlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlMjBfXyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMCUyMCUyMCUyMCUyMCU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAjIyUyMGhoJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwaGglMjAjIyUyMiwlMjIlMjAlMjAlMjAlMjAlMjAlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlN0MlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUNfX19fJTIwJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDX19fXyUyMCU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAjIyUyMGhoJTIwJTIwJTIwJTIwJTIwJTIwd3d3dyUyMCUyMCUyMCUyMCUyMCUyMGhoJTIwIyMlMjIsJTIyJTIwJTIwJTIwJTIwJTIwJTIwJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwaGglMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBoaCUyMCMjJTIyLCUyMiUyMCUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAjIyUyME1NTU1NTU1NTU1NTU1NTU1NTU1NJTIwIyMlMjIsJTIyJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjTU1NTU1NTU1NTU1NTU1NTU1NTU1NTSMjJTIyLCUyMiUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMFJlbGVhc2UlMjAyLjMuNC4lMjBQb3dlcmVkJTIwYnklMjBqaW5rZWxhLWNvcmUlMjAyLjIuNy4lMjIlNUQsJTVCJTIyJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTVDJTVDLyUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1Qy8lMjIsJTIyJTIyJTVEJTVE"))).forEach(function(t){var i=t[0],a=t[1];e.push(i+a)}),i=i.concat(["color:#00a1d6"]),i=[e.join("\n")].concat(i),(t=console).log.apply(t,_toConsumableArray(i))};__getClientLogo()}!function(t){function e(e){for(var a,s,r=e[0],l=e[1],c=e[2],u=0,m=[];u<r.length;u++)s=r[u],n[s]&&m.push(n[s][0]),n[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);for(d&&d(e);m.length;)m.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],a=!0,r=1;r<i.length;r++){var l=i[r];0!==n[l]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=i[0]))}return t}var a={},n={0:0},o=[];function s(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=a,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(i,a,function(e){return t[e]}.bind(null,a));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="//s1.hdslb.com/bfs/static/jinkela/home/";var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;o.push([202,1]),i()}({100:function(t,e,i){},101:function(t,e,i){},102:function(t,e,i){},103:function(t,e,i){},104:function(t,e,i){},105:function(t,e,i){},106:function(t,e,i){},107:function(t,e,i){},108:function(t,e,i){},109:function(t,e,i){},110:function(t,e,i){},111:function(t,e,i){},112:function(t,e,i){},113:function(t,e,i){},114:function(t,e,i){},115:function(t,e,i){},116:function(t,e,i){},117:function(t,e,i){},118:function(t,e,i){},119:function(t,e,i){},120:function(t,e,i){},121:function(t,e,i){},122:function(t,e,i){},123:function(t,e,i){},124:function(t,e,i){},125:function(t,e,i){},126:function(t,e,i){},196:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAQCAMAAAAyEe/dAAAAV1BMVEUAAADs7OwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQ0NDT09MAAADh4eGpqal3d3cAAAAAAAAAAAAAAADh4eEAAAAAAADExMRycnJ9fX0AAADIyMidnZ1Ia/H0AAAAHXRSTlMzrUpGNzpjPUEwm5dbo3RiWFAjB6FsVItoWwCGgRAE+WoAAACgSURBVBjTdZBZEoMgDECREEBBFFFc2vufs0W2Th3eD2FeFghp0S/uKhcm2L92JZQrxBxETGlLPBCoHt6WAoI6ZuUpiFAaW55dAo4UGFbmTcNMA2C7jW/DxrkVVSqIgeky50MSYTUPaIpZ4rTL/OhYN8r6jd3kRLin6xFKV7oCaUl8GVFkbJtkf2+lTlD+W+lXWXdUYch+Fu160uZyS1N/ALlRBebVeMs4AAAAAElFTkSuQmCC"},199:function(t,e,i){t.exports=i.p+"asserts/vip-default-banner.png"},202:function(t,e,i){t.exports=i(545)},405:function(t,e,i){},407:function(t,e,i){},434:function(t,e,i){t.exports=i.p+"asserts/wh2.png"},435:function(t,e,i){t.exports=i.p+"asserts/sp2.png"},436:function(t,e,i){var a=i(74);i.n(a).a},438:function(t,e,i){var a=i(75);i.n(a).a},440:function(t,e,i){var a=i(76);i.n(a).a},442:function(t,e,i){var a=i(77);i.n(a).a},444:function(t,e,i){var a=i(78);i.n(a).a},446:function(t,e,i){var a=i(79);i.n(a).a},448:function(t,e,i){var a=i(80);i.n(a).a},450:function(t,e,i){var a=i(81);i.n(a).a},452:function(t,e,i){var a=i(82);i.n(a).a},454:function(t,e,i){var a=i(83);i.n(a).a},456:function(t,e,i){var a=i(84);i.n(a).a},458:function(t,e,i){var a=i(85);i.n(a).a},460:function(t,e,i){var a=i(86);i.n(a).a},462:function(t,e,i){var a=i(87);i.n(a).a},464:function(t,e,i){var a=i(88);i.n(a).a},466:function(t,e,i){t.exports=i.p+"asserts/ic_launcher.png"},467:function(t,e,i){var a=i(89);i.n(a).a},469:function(t,e,i){var a=i(90);i.n(a).a},471:function(t,e,i){var a=i(91);i.n(a).a},473:function(t,e,i){var a=i(92);i.n(a).a},475:function(t,e,i){var a=i(93);i.n(a).a},477:function(t,e,i){var a=i(94);i.n(a).a},479:function(t,e,i){var a=i(95);i.n(a).a},481:function(t,e,i){var a=i(96);i.n(a).a},483:function(t,e,i){var a=i(97);i.n(a).a},485:function(t,e,i){var a=i(98);i.n(a).a},487:function(t,e,i){var a=i(99);i.n(a).a},489:function(t,e,i){var a=i(100);i.n(a).a},491:function(t,e,i){var a=i(101);i.n(a).a},493:function(t,e,i){var a=i(102);i.n(a).a},495:function(t,e,i){var a=i(103);i.n(a).a},497:function(t,e,i){var a=i(104);i.n(a).a},499:function(t,e,i){var a=i(105);i.n(a).a},501:function(t,e,i){var a=i(106);i.n(a).a},503:function(t,e,i){var a=i(107);i.n(a).a},505:function(t,e,i){var a=i(108);i.n(a).a},507:function(t,e,i){var a=i(109);i.n(a).a},509:function(t,e,i){var a=i(110);i.n(a).a},511:function(t,e,i){var a=i(111);i.n(a).a},513:function(t,e,i){var a=i(112);i.n(a).a},515:function(t,e,i){var a=i(113);i.n(a).a},517:function(t,e,i){var a=i(114);i.n(a).a},519:function(t,e,i){t.exports=i.p+"asserts/wh.png"},520:function(t,e,i){t.exports=i.p+"asserts/sp.png"},521:function(t,e,i){var a=i(115);i.n(a).a},523:function(t,e,i){var a=i(116);i.n(a).a},525:function(t,e,i){var a=i(117);i.n(a).a},527:function(t,e,i){var a=i(118);i.n(a).a},529:function(t,e,i){var a=i(119);i.n(a).a},531:function(t,e,i){var a=i(120);i.n(a).a},533:function(t,e,i){var a=i(121);i.n(a).a},535:function(t,e,i){var a=i(122);i.n(a).a},537:function(t,e,i){var a=i(123);i.n(a).a},539:function(t,e,i){var a=i(124);i.n(a).a},541:function(t,e,i){var a=i(125);i.n(a).a},543:function(t,e,i){var a=i(126);i.n(a).a},545:function(t,e,i){i.r(e);i(203),i(405),i(407);var a=i(7),n=i(154),o=i(50),s=i(197),r=i.n(s),l=i(198),c=i.n(l),u=i(155),m=i.n(u),p=function(t){return t.jsonp?(t.query=Object.assign({jsonp:"jsonp"},t.query),t.param=t.params||t.param||t.data,new Promise(function(e,i){t.url=t.query?t.url+"?"+m.a.stringify(t.query):"",t.url.indexOf("http")<0&&(t.url=window.location.protocol+t.url),c()(t.url,t,function(t,a){t&&i(t);var n={code:a.code,data:a};e(n)})})):(t.type&&(t.method=t.type),t.url=t.query?t.url+"?"+m.a.stringify(t.query):t.url,t.params=t.params||t.param||t.data,r()(t))},f={API:"//api.bilibili.com",WWW:"//www.bilibili.com",SEARCH:"//s.search.bilibili.com",INTERFACE:"//interface.bilibili.com",SAPI:"//api.bilibili.co"},h={RECOMMEND_DATA:function(t){var e=t.commit,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p({url:f.API+"/x/web-interface/ranking/index",query:{day:3},jsonp:!0,encode:!0,sUrl:i.surl&&i.surl["main.web-svr.web-interface"]||""}).then(function(t){if(0===t.data.code){var i=t.data.data;if(i)for(var a=0;a<i.length;a++)delete i[a].description;e("SET_RECOMMEND_DATA",i)}})},LOCS_DATA:function(t){var e=t.commit,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=document.cookie;return p({url:f.API+"/x/web-show/res/locs",query:{pf:0,ids:"23,34,29,31,40,42,44,142"},headers:{cookie:a||"","X-BACKEND-BILI-REAL-IP":i&&i.ip||""},jsonp:!0}).then(function(t){0===t.data.code&&t.data.data&&e("SET_LOCS_DATA",t.data.data)})}};a.a.use(o.a);var v=new o.a.Store({state:{recommendData:[],locsData:{}},mutations:{SET_RECOMMEND_DATA:function(t,e){t.recommendData=e},SET_LOCS_DATA:function(t,e){t.locsData=e}},actions:h}),g=[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"side-nav zl"},[e("a",{staticClass:"side-link",attrs:{href:"//www.bilibili.com/read/home"}},[e("i",{staticClass:"zhuanlan"}),e("span",[this._v("专栏")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"side-link",attrs:{href:"//live.bilibili.com"}},[e("i",{staticClass:"live"}),e("span",[this._v("直播")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"live-field fl"},[e("a",{staticClass:"pic",attrs:{target:"_blank",href:"//h.bilibili.com"}},[e("img",{attrs:{src:i(434),alt:"有文画"}})]),e("a",{staticClass:"pic",attrs:{target:"_blank",href:"//vc.bilibili.com"}},[e("img",{attrs:{src:i(435),alt:"小视频"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"side-nav"},[e("a",{staticClass:"side-link",attrs:{href:"//www.bilibili.com/blackroom/"}},[e("i",{staticClass:"blackroom"}),e("span",[this._v("小黑屋")])])])}],w=[{name:"首页",url:"//www.bilibili.com/index.html",route:"/",tid:"",locid:23,sub:[]},{name:"动画",route:"douga",tid:1,locid:52,url:"//www.bilibili.com/video/douga.html",count:"",slider:{width:620,height:220},viewTag:!1,customComponent:{name:"Energy",titleId:2507,leftId:2452,rightId:2453},sub:[{name:"MAD·AMV",route:"mad",tid:24,ps:15,rps:10,ad:{active:!0,dataLocId:151},desc:"具有一定制作程度的动画或静画的二次创作视频",url:"//www.bilibili.com/video/douga-mad-1.html"},{name:"MMD·3D",route:"mmd",tid:25,ps:15,rps:10,ad:{active:!0,dataLocId:152},desc:"使用MMD（MikuMikuDance）和其他3D建模类软件制作的视频",url:"//www.bilibili.com/video/douga-mmd-1.html"},{name:"短片·手书·配音",route:"voice",tid:47,ps:15,rps:10,desc:"追求创新并具有强烈特色的短片、手书（绘）及ACG相关配音",url:"//www.bilibili.com/video/douga-voice-1.html"},{name:"综合",route:"other",tid:27,ps:15,rps:10,ad:{active:!0,dataLocId:153},desc:"以动画及动画相关内容为素材，包括但不仅限于音频替换、杂谈、排行榜等内容",url:"//www.bilibili.com/video/douga-else-1.html"}]},{name:"番剧",route:"anime",tid:13,url:"//www.bilibili.com/anime/",takeOvered:!0,count:"",sub:[{name:"连载动画",tid:33,route:"serial",desc:"当季连载的动画番剧",url:"//www.bilibili.com/video/bangumi-two-1.html"},{name:"完结动画",tid:32,route:"finish",desc:"已完结的动画番剧合集",url:"//www.bilibili.com/video/part-twoelement-1.html"},{name:"资讯",tid:51,route:"information",desc:"动画番剧相关资讯视频",url:"//www.bilibili.com/video/douga-else-information-1.html"},{name:"官方延伸",tid:152,route:"offical",desc:"动画番剧为主题的宣传节目、采访视频，及声优相关视频",url:"//www.bilibili.com/video/bagumi_offical_1.html"},{name:"新番时间表",url:"//www.bilibili.com/anime/timeline/",desc:""},{name:"番剧索引",url:"//www.bilibili.com/anime/index/",desc:""}]},{name:"国创",tid:167,route:"guochuang",url:"//www.bilibili.com/guochuang/",takeOvered:!0,count:"",sub:[{name:"国产动画",tid:153,route:"chinese",desc:"我国出品的PGC动画",url:"//www.bilibili.com/video/bangumi_chinese_1.html"},{name:"国产原创相关",tid:168,route:"original",desc:"",url:"//www.bilibili.com/video/guochuang-fanvid-1.html"},{name:"布袋戏",tid:169,route:"puppetry",desc:"",url:"//www.bilibili.com/video/glove-puppetry-1.html"},{name:"资讯",tid:170,route:"information",desc:"",url:"//www.bilibili.com/video/guochuang-offical-1.html"},{name:"新番时间表",url:"//www.bilibili.com/guochuang/timeline/",desc:""},{name:"国产动画索引",url:"//www.bilibili.com/guochuang/index/",desc:""}]},{name:"音乐",route:"music",tid:3,locid:58,url:"//www.bilibili.com/video/music.html",count:"",slider:{width:440,height:220},viewTag:!0,customComponent:{name:"Energy",titleId:2511,leftId:2462,rightId:2463},sub:[{name:"音频",customZone:"Audio",route:"audio",url:"//www.bilibili.com/audio/home?musicType=music"},{name:"原创音乐",route:"original",tid:28,ps:15,rps:10,ad:{active:!0,dataLocId:243},dpConfig:[{name:"一日",value:1},{name:"三日",value:3}],desc:"个人或团队制作以音乐为主要原创因素的歌曲或纯音乐",url:"//www.bilibili.com/video/music-original-1.html"},{name:"翻唱",route:"cover",tid:31,ps:15,rps:10,ad:{active:!0,dataLocId:245},dpConfig:[{name:"一日",value:1},{name:"三日",value:3}],desc:"一切非官方的人声再演绎歌曲作品",url:"//www.bilibili.com/video/music-Cover-1.html"},{name:"VOCALOID·UTAU",route:"vocaloid",tid:30,ps:15,rps:10,dpConfig:[{name:"一日",value:1},{name:"三日",value:3}],desc:"以雅马哈Vocaloid和UTAU引擎为基础，包含其他调教引擎，运用各类音源进行的歌曲创作内容",url:"//www.bilibili.com/video/music-vocaloid-1.html"},{name:"演奏",route:"perform",tid:59,ps:15,rps:10,ad:{active:!0,dataLocId:247},dpConfig:[{name:"一日",value:1},{name:"三日",value:3}],desc:"传统或非传统乐器及器材的演奏作品",url:"//www.bilibili.com/video/music-perform-1.html"},{name:"三次元音乐",route:"coordinate",tid:29,ps:15,rps:10,dpConfig:[{name:"一日",value:1},{name:"三日",value:3}],desc:"三次元艺人的音乐作品和相关",url:"//www.bilibili.com/video/music-coordinate-1.html"},{name:"OP/ED/OST",route:"oped",tid:54,ps:15,rps:10,dpConfig:[{name:"一日",value:1},{name:"三日",value:3}],desc:"包括但不限于OP、ED、OST、角色歌等，由官方发售或公布的实体或非实体专辑和曲目内容",url:"//www.bilibili.com/video/music-oped-1.html"},{name:"音乐选集",route:"collection",tid:130,ps:15,rps:10,dpConfig:[{name:"一日",value:1},{name:"三日",value:3}],desc:"任何形式的图包、曲包、作品推荐、作品精选、XX向(包括但不限于AB向、PK向、循环向、睡眠向、排行向)视频",url:"//www.bilibili.com/video/music-collection-1.html"}]},{name:"舞蹈",route:"dance",tid:129,locid:64,url:"//www.bilibili.com/video/dance.html",count:"",slider:{width:620,height:220},viewTag:!1,customComponent:{name:"Energy",titleId:2513,leftId:2472,rightId:2473},sub:[{name:"宅舞",route:"otaku",tid:20,ps:15,rps:10,ad:{active:!0,dataLocId:249},desc:"与ACG相关的翻跳、原创舞蹈",url:"//www.bilibili.com/video/dance-1.html"},{name:"三次元舞蹈",route:"three_d",tid:154,ps:15,rps:10,ad:{active:!0,dataLocId:251},desc:"以三次元音乐作为BGM的舞蹈",url:"//www.bilibili.com/video/three-dimension-dance-1.html"},{name:"舞蹈教程",route:"demo",tid:156,ps:10,rps:6,ad:{active:!0,dataLocId:253},desc:"镜面慢速，动作分解，基础教程等具有教学意义的舞蹈视频",url:"//www.bilibili.com/video/dance-demo-1.html"}]},{name:"游戏",route:"game",tid:4,locid:70,url:"//www.bilibili.com/video/game.html",count:"",slider:{width:470,height:216},viewTag:!0,customComponent:{name:"Promote",id:4},recommendCardType:"GameGroomBox",sub:[{name:"单机游戏",route:"stand_alone",tid:17,ps:10,rps:7,rankshow:1,viewHotTag:!0,ad:{active:!0,dataLocId:255},dpConfig:[{name:"三日",value:3},{name:"一日",value:1},{name:"一周",value:7}],desc:"以所有平台（PC、主机、移动端）的单机或联机游戏为主的视频内容，包括游戏预告、CG、实况解说及相关的评测、杂谈与视频剪辑等",url:"//www.bilibili.com/video/videogame-1.html"},{name:"电子竞技",route:"esports",tid:171,ps:10,rps:7,rankshow:1,viewHotTag:!0,ad:{active:!0,dataLocId:257},desc:"具有高对抗性的电子竞技游戏项目，其相关的赛事、实况、攻略、解说、短剧等视频。",url:"//www.bilibili.com/video/esports-1.html"},{name:"手机游戏",route:"mobile",tid:172,ps:10,rps:7,rankshow:1,viewHotTag:!0,desc:"以手机及平板设备为主要平台的游戏，其相关的实况、攻略、解说、短剧、演示等视频。",url:"//www.bilibili.com/video/mobilegame-1.html"},{name:"网络游戏",route:"online",tid:65,ps:10,rps:7,rankshow:1,viewHotTag:!0,ad:{active:!0,dataLocId:259},dpConfig:[{name:"三日",value:3},{name:"一日",value:1},{name:"一周",value:7}],desc:"由网络运营商运营的多人在线游戏，以及电子竞技的相关游戏内容。包括赛事、攻略、实况、解说等相关视频",url:"//www.bilibili.com/video/onlinegame-1.html"},{name:"桌游棋牌",route:"board",tid:173,ps:5,rps:3,rankshow:1,viewHotTag:!0,desc:"桌游、棋牌、卡牌对战等及其相关电子版游戏的实况、攻略、解说、演示等视频。",url:"//www.bilibili.com/video/boardgame-1.html"},{name:"GMV",route:"gmv",tid:121,ps:5,rps:3,rankshow:1,viewHotTag:!0,dpConfig:[{name:"三日",value:3},{name:"一日",value:1},{name:"一周",value:7}],desc:"由游戏素材制作的MV视频。以游戏内容或CG为主制作的，具有一定创作程度的MV类型的视频",url:"//www.bilibili.com/video/gmv-1.html"},{name:"音游",route:"music",tid:136,ps:5,rps:3,rankshow:1,viewHotTag:!0,dpConfig:[{name:"三日",value:3},{name:"一日",value:1},{name:"一周",value:7}],desc:"各个平台上，通过配合音乐与节奏而进行的音乐类游戏视频",url:"//www.bilibili.com/video/music-game-1.html"},{name:"Mugen",route:"mugen",tid:19,ps:5,rps:3,rankshow:1,viewHotTag:!0,dpConfig:[{name:"三日",value:3},{name:"一日",value:1},{name:"一周",value:7}],desc:"以Mugen引擎为平台制作、或与Mugen相关的游戏视频",url:"//www.bilibili.com/video/game-mugen-1.html"},{name:"游戏赛事",url:"//www.bilibili.com/v/game/match/",newIcon:!0}]},{name:"科技",route:"technology",tid:36,locid:76,url:"//www.bilibili.com/video/technology.html",count:"",slider:{width:620,height:220},viewTag:!1,customComponent:{name:"Energy",titleId:2058,leftId:2047,rightId:2048},sub:[{name:"趣味科普人文",route:"fun",tid:124,ps:15,rps:10,ad:{active:!0,dataLocId:261},desc:"含有科普或人文性质的视频",url:"//www.bilibili.com/video/tech-fun-1.html"},{name:"野生技术协会",route:"wild",tid:122,ps:15,rps:10,ad:{active:!0,dataLocId:263},desc:"展示一定改装/创作能力的视频",url:"//www.bilibili.com/video/tech-wild-1.html"},{name:"演讲·公开课",route:"speech_course",tid:39,ps:15,rps:10,desc:"演讲、教育课程相关的视频",url:"//www.bilibili.com/video/speech-course-1.html"},{name:"星海",route:"military",tid:96,ps:15,rps:10,ad:{active:!0,dataLocId:265},desc:"军事相关视频",url:"//www.bilibili.com/video/tech-future-military-1.html"},{name:"数码",route:"digital",tid:95,ps:15,rps:10,desc:"3C数码产品相关",url:"//www.bilibili.com/video/tech-future-digital-1.html"},{name:"机械",route:"mechanical",tid:98,ps:15,rps:10,desc:"机械设备展示或制作视频",url:"//www.bilibili.com/video/tech-future-other-1.html"},{name:"汽车",route:"automobile",tid:176,ps:15,rps:10,desc:"汽车、摩托车、公交车以及竞赛用车等轮式交通工具相",url:"//www.bilibili.com/video/tech-future-automobile-1.html"}]},{name:"生活",route:"life",tid:160,locid:88,url:"//www.bilibili.com/video/life.html",count:"",slider:{width:620,height:220},viewTag:!1,customComponent:{name:"Energy",titleId:2062,leftId:1674,rightId:1670},sub:[{name:"搞笑",route:"funny",tid:138,ps:15,rps:10,ad:{active:!0,dataLocId:273},desc:"搞笑的、轻松有趣的、具有独特笑点或娱乐精神的视频",url:"//www.bilibili.com/video/ent_funny_1.html"},{name:"日常",route:"daily",tid:21,ps:15,rps:10,ad:{active:!0,dataLocId:275},desc:"漫展、cosplay、体育运动及其他一般日常向视频",url:"//www.bilibili.com/video/ent-life-1.html"},{name:"美食圈",route:"food",tid:76,ps:15,rps:10,desc:"美食鉴赏&料理制作教程",url:"//www.bilibili.com/video/ent-food-1.html"},{name:"动物圈",route:"animal",tid:75,ps:15,rps:10,ad:{active:!0,dataLocId:277},desc:"这里有各种萌萌哒动物哦~",url:"//www.bilibili.com/video/ent-animal-1.html"},{name:"手工",route:"handmake",tid:161,ps:15,rps:10,desc:"简易手工艺品的diy制作视频，例如；折纸、手账、橡皮章等",url:"//www.bilibili.com/video/ent-handmake-1.html"},{name:"绘画",route:"painting",tid:162,ps:15,rps:10,desc:"绘画爱好者们关于绘画技巧、绘图过程的分享交流场所",url:"//www.bilibili.com/video/ent-painting-1.html"},{name:"运动",route:"sports",tid:163,ps:15,rps:10,desc:"一般向运动项目以及惊险刺激的户外极限运动",url:"//www.bilibili.com/video/ent-sports-1.html"},{name:"其他",route:"other",tid:174,ps:15,rps:10,desc:"对于分区归属不明的视频进行归纳整合的特定分区。",url:"//www.bilibili.com/video/others-1.html"}]},{name:"鬼畜",route:"kichiku",tid:119,locid:100,url:"//www.bilibili.com/video/kichiku.html",count:"",slider:{width:620,height:220},viewTag:!1,customComponent:{name:"Energy",titleId:2509,leftId:2482,rightId:2483},sub:[{name:"鬼畜调教",route:"guide",tid:22,ps:15,rps:10,ad:{active:!0,dataLocId:285},desc:"使用素材在音频、画面上做一定处理，达到与BGM一定的同步感",url:"//www.bilibili.com/video/ent-Kichiku-1.html"},{name:"音MAD",route:"mad",tid:26,ps:15,rps:10,ad:{active:!0,dataLocId:287},desc:"使用素材音频进行一定的二次创作来达到还原原曲的非商业性质稿件",url:"//www.bilibili.com/video/douga-kichiku-1.html"},{name:"人力VOCALOID",route:"manual_vocaloid",tid:126,ps:15,rps:10,desc:"将人物或者角色的无伴奏素材进行人工调音，使其就像VOCALOID一样歌唱的技术",url:"//www.bilibili.com/video/kichiku-manual_vocaloid-1.html"},{name:"教程演示",route:"course",tid:127,ps:10,rps:6,rightComponent:{name:"CmImgList",id:148},ad:{active:!0,dataLocId:289},hideDropdown:!1,desc:"鬼畜相关的教程演示",url:"//www.bilibili.com/video/kichiku-course-1.html"}]},{name:"时尚",route:"fashion",tid:155,locid:94,url:"//www.bilibili.com/video/fashion.html",count:"",slider:{width:620,height:220},viewTag:!1,customComponent:{name:"Energy",titleId:2515,leftId:2492,rightId:2493},sub:[{name:"美妆",route:"makeup",tid:157,ps:15,rps:10,ad:{active:!0,dataLocId:279},desc:"涵盖妆容、发型、美甲等教程，彩妆、护肤相关产品测评、分享等",url:"//www.bilibili.com/video/fashion-makeup-fitness-1.html"},{name:"服饰",route:"clothing",tid:158,ps:15,rps:10,ad:{active:!0,dataLocId:281},desc:"服饰风格、搭配技巧相关的展示和教程视频",url:"//www.bilibili.com/video/fashion-clothing-1.html"},{name:"健身",route:"aerobics",tid:164,ps:15,rps:10,desc:"器械、有氧、拉伸运动等，以达到强身健体、减肥瘦身、形体塑造目的",url:"//www.bilibili.com/video/fashion-body-1.html"},{name:"资讯",route:"information",tid:159,ps:15,rps:10,ad:{active:!0,dataLocId:283},desc:"品牌时装周、T台秀等潮流资讯相关视频",url:"//www.bilibili.com/video/fashion-info-1.html"}]},{name:"广告",route:"ad",tid:165,locid:1466,url:"//www.bilibili.com/video/ad-ad-1.html",count:"",sub:[{name:"广告",route:"ad",tid:166,desc:""}],slider:{width:1160,height:332}},{name:"娱乐",route:"ent",tid:5,locid:82,url:"//www.bilibili.com/video/ent.html",count:"",slider:{width:620,height:220},viewTag:!1,customComponent:{name:"Energy",titleId:2067,leftId:2065,rightId:2066},sub:[{name:"综艺",route:"variety",tid:71,ps:15,rps:10,ad:{active:!0,dataLocId:267},desc:"国内外有趣的综艺和综艺相关精彩剪辑",url:"//www.bilibili.com/video/ent-variety-1.html"},{name:"明星",route:"star",tid:137,ps:15,rps:10,ad:{active:!0,dataLocId:269},desc:"娱乐圈动态、明星资讯相关",url:"//www.bilibili.com/video/ent-circle-1.html"},{name:"Korea相关",route:"korea",tid:131,ps:15,rps:10,ad:{active:!0,dataLocId:271},desc:"Korea相关音乐、舞蹈、综艺等视频",url:"//www.bilibili.com/video/ent-korea-1.html"}]},{name:"影视",route:"cinephile",tid:181,locid:2211,url:"//www.bilibili.com/video/cinephile.html",count:"",slider:{width:620,height:220},viewTag:!1,customComponent:{name:"Energy",titleId:2309,leftId:2307,rightId:2308},sub:[{name:"影视杂谈",route:"cinecism",tid:182,ps:15,rps:10,ad:{active:!0,dataLocId:2212},desc:"影视评论、解说、吐槽、科普等",url:"//www.bilibili.com/video/cinephile-cinecism.html"},{name:"影视剪辑",route:"montage",tid:183,ps:15,rps:10,ad:{active:!0,dataLocId:2213},desc:"对影视素材进行剪辑再创作的视频",url:"//www.bilibili.com/video/cinephile-montage.html"},{name:"短片",route:"shortfilm",tid:85,ps:15,rps:10,desc:"追求自我表达且具有特色的短片",url:"//www.bilibili.com/video/cinephile-shortfilm.html"},{name:"预告·资讯",route:"trailer_info",tid:184,ps:15,rps:10,ad:{active:!0,dataLocId:2214},desc:"影视类相关资讯，预告，花絮等视频",url:"//www.bilibili.com/video/cinephile-trailer-info.html"},{name:"特摄",route:"tokusatsu",tid:86,ps:15,rps:10,desc:"特摄相关衍生视频",url:"//www.bilibili.com/video/cinephile-tokusatsu.html"}]},{name:"纪录片",route:"documentary",tid:177,url:"//www.bilibili.com/documentary/",count:"",takeOvered:!0,sub:[{name:"人文·历史",tid:37,route:"history",dise:"",url:"//www.bilibili.com/video/doco-history.html"},{name:"科学·探索·自然",tid:178,route:"science",dise:"",url:"//www.bilibili.com/video/doco-science.html"},{name:"军事",tid:179,route:"military",dise:"",url:"//www.bilibili.com/video/doco-military.html"},{name:"社会·美食·旅行",tid:180,route:"travel",dise:"",url:"//www.bilibili.com/video/doco-travel.html"},{name:"纪录片索引",url:"//www.bilibili.com/documentary/index/"}]},{name:"电影",route:"movie",tid:23,url:"//www.bilibili.com/movie/",count:"",takeOvered:!0,sub:[{name:"华语电影",tid:147,route:"chinese",desc:"",url:"//www.bilibili.com/video/movie_chinese_1.html"},{name:"欧美电影",tid:145,route:"west",desc:"",url:"//www.bilibili.com/video/movie_west_1.html"},{name:"日本电影",tid:146,route:"japan",desc:"",url:"//www.bilibili.com/video/movie_japan_1.html"},{name:"其他国家",tid:83,route:"movie",desc:"",url:"//www.bilibili.com/video/movie-movie-1.html"},{name:"电影索引",url:"//www.bilibili.com/movie/index/"}]},{name:"电视剧",route:"tv",tid:11,url:"//www.bilibili.com/tv/",count:"",takeOvered:!0,sub:[{name:"国产剧",tid:185,route:"mainland",desc:"",url:"//www.bilibili.com/video/tv-mainland.html"},{name:"海外剧",tid:187,route:"overseas",desc:"",url:"//www.bilibili.com/video/tv-overseas.html"},{name:"电视剧索引",url:"//www.bilibili.com/tv/index/"}]}],b=[{url:"//live.bilibili.com/subject",name:"推荐主播"},{url:"//live.bilibili.com/pages/area/ent",name:"生活娱乐"},{url:"//live.bilibili.com/draw",name:"绘画专区"},{url:"//live.bilibili.com/pages/area/ent",name:"唱见舞见"},{url:"//live.bilibili.com/pages/area/ent",name:"御宅文化"},{url:"//live.bilibili.com/single",name:"单机联机"},{url:"//live.bilibili.com/online",name:"网络游戏"},{url:"//live.bilibili.com/e-sports",name:"电子竞技"},{url:"//live.bilibili.com/mobile-game",name:"手游直播"}],_=[{name:"会员购",url:"//show.bilibili.com/platform/home.html",icon:"icon-vip-buy"},{name:"游戏中心",url:"//game.bilibili.com",icon:"icon-game"},{name:"画友",url:"http://h.bilibili.com",icon:"icon-hy"},{name:"芒果TV",url:"//www.bilibili.com/mango",icon:"icon-mango"}],y=i(45),C=i.n(y),k={get:function(t){var e=""+document.cookie,i=e.indexOf(t+"=");if(-1==i||""==t)return"";var a=e.indexOf(";",i);return-1==a&&(a=e.length),unescape(e.substring(i+t.length+1,a))},set:function(t,e,i){i=void 0!==i?i:365;var a=new Date;a.setTime(a.getTime()+24*i*60*60*1e3),document.cookie=t+"="+escape(e)+";expires="+a.toGMTString()+"; path=/; domain=.bilibili.com"},delete:function(t){this.set(t,"",-1)}},D={_support:!(!window||!window.localStorage||"object"!=C()(window.localStorage)),getItem:function(t){return this._support?window.localStorage.getItem(t):null},setItem:function(t,e){this._support&&window.localStorage.setItem(t,e)},removeItem:function(t){this.getItem(t)&&window.localStorage.removeItem(t)}};function I(t){return D._support?D.getItem(t):k.get(t)}function T(t,e,i){return D._support?D.setItem(t,e):k.set(t,e,i)}function M(t,e){if(t){var i=t.getBoundingClientRect(),a=e||0;return i.top<window.innerHeight+a&&i.bottom>=0}}function x(t,e,i){var a,n=null;return function(){var o=this,s=arguments,r=+new Date;clearTimeout(n),a||(a=r),r-a>=i?(t.apply(o,s),a=r):n=setTimeout(function(){t.apply(o,s)},e)}}function U(t){return t<10?"0"+t:t}var j=function(t){return-1!=String(t).indexOf(":")?t:t<60?(n=t<10?"0".concat(t):t,"00:".concat(n)):t<3600?(a=t%60,i=parseInt(t/60),n=a<10?"0".concat(a):a,o=i<10?"0".concat(i):i,"".concat(o,":").concat(n)):(a=t%60,i=parseInt(t%3600/60),e=parseInt(t/3600),n=a<10?"0".concat(a):a,o=i<10?"0".concat(i):i,"".concat(e,":").concat(o,":").concat(n));var e,i,a,n,o},A=function(t){return t?t.replace(/^http:/,""):""},S=function(){try{return 0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch(t){return!1}}(),N=function(t,e,i){if(!t)return t;var a=t.match(/(.*\.(jpg|jpeg|gif|png|bmp))(\?.*)?/),n=-1!=t.indexOf("/bfs/");if(!a||"gif"===a[2]||"bmp"===a[2]||!n)return t;var o=e&&i?"@"+e+"w_"+i+"h":"@",s=a[3]?a[3]:"";return S?a[1]+o+".webp"+s:a[1]+o+"."+a[2]+s},L={create:function(t){var e,i=[];for(i[0]=1,e=1;e<t;e++)i[e]=i[e-1]*e;return i},encode:function(t,e){var i,a,n=t.length,o=this.create(e),s=[];for(i=0;i<n;i++)for(s[i]=0,a=0;a<i;a++)t[a]>t[i]&&s[a]++;var r=0;for(i=0;i<n;i++)r+=s[i]*o[n-i-1];return r.toString(32)},decode:function(t,e){var i,a;t=parseInt(t,32);var n=[],o=[],s=[],r=this.create(e);for(i=e-1,a=0;i>=0;i--,a++)n[a]=t/r[i],0!=t&&(t%=r[i]),o[i]=1;for(i=0;i<e;i++){var l=0;for(a=0;a<e;a++)if((l+=o[a])>n[i]){s[i]=a,o[a]=0;break}}return s}};var J=function(){var t=1;return"undefined"==typeof window?t:(void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI?t=window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio&&(t=window.devicePixelRatio),t)},E=function(){return window.console&&"function"==typeof window.console.log?function(t,e){window.console.log("["+t+"] "+e)}:function(){}},B=function(t,e){if(window.spmReportData){var i=e||t;window.spmReportData[t]=i}},O=function(){try{return k.get("bili_jct")||""}catch(t){return""}}(),V={props:{src:{},width:{},height:{},alt:{},webp:{default:!0},hd:{default:!0}},computed:{ratio:function(){return this.hd?J():1},source:function(){return this.webp?A(N(this.src,Math.ceil(this.width*this.ratio),Math.ceil(this.height*this.ratio))):A(this.src)}}},P=(i(436),i(1)),R=Object(P.a)(V,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lazy-img"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:this.source,expression:"source"}],attrs:{alt:this.alt||"",src:""}})])},[],!1,null,null,null);R.options.__file="BiliImg.vue";var Q=R.exports,F={},H={};function W(t){return $.ajax(t)}function z(t,e){var i,a=$.Deferred(),n=(t.type||"")+t.url+JSON.stringify(t.data),o=Math.random().toString().substr(2);return t.jsonpCallback=t.jsonpCallback||"jqueryCallback_bili_".concat(o),e&&H[n]?a.resolve(H[n]):F[n]?F[n]:(i=W(t),F[n]=i,i.done(function(t){delete F[n],e?0===t.code&&(H[n]=t):delete H[n],a.resolve(t)}),i.fail(function(e){"jsonp"!==t.dataType&&"JSONP"!==t.dataType||(window[t.jsonpCallback]=function(){}),t.fallBackUrl?(t.dataType="json",t.url=t.fallBackUrl,W(t).done(function(t){a.resolve(t)}).fail(function(t){a.reject(t)})):a.reject(e),delete F[n]}),a)}var X="//i0.hdslb.com/bfs/static/151fa668c8f083a8ed3f7a2be2ffcc652c8f0b1f.gif",G={data:function(){return{gif:{title:"",link:"",icon:""}}},computed:{gifLink:function(){var t=this.gif.link;return-1!==t.indexOf("search.bilibili.com")?t+"&from_source=gif_recommend":t},imgSrc:function(){return A(this.gif.icon)}},mounted:function(){this.getGif()},methods:{getGif:function(){var t=this;z({url:f.API+"/x/web-interface/index/icon",type:"GET",dataType:"jsonp",data:{jsonp:"jsonp"}}).done(function(e){0===e.code?(t.gif.title=e.data.title||"",t.gif.link=e.data.links&&e.data.links[0]||"#",t.gif.icon=e.data.icon||X):t.reset()}).fail(function(){t.reset()})},reset:function(){this.gif={title:"",link:"#",icon:X}}}},q=(i(438),Object(P.a)(G,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"gif-menu"},[e("a",{staticClass:"random-p",attrs:{href:this.gifLink,target:"_blank",title:this.gif.title}},[e("img",{attrs:{src:this.imgSrc,alt:""}})])])},[],!1,null,null,null));q.options.__file="GifMenu.vue";var Z={components:{BiliImg:Q,GifMenu:q.exports},props:{tid:{default:""}},data:function(){return{menuList:w,liveMenu:b,squareMenu:_,squareFields:[]}},computed:{navList:function(){for(var t=[],e=0;e<this.menuList.length;e++)-1===[11,23,177].indexOf(parseInt(this.menuList[e].tid))&&t.push(this.menuList[e]);return t.push({name:"放映厅",tid:23,url:"//www.bilibili.com/cinema/",count:"",sub:[{name:"纪录片",url:"//www.bilibili.com/documentary/"},{name:"电影",url:"//www.bilibili.com/movie/"},{name:"电视剧",url:"//www.bilibili.com/tv/"}]}),t}},mounted:function(){var t=this;z({url:f.API+"/x/web-interface/online",dataType:"jsonp",data:{jsonp:"jsonp"}},!0).done(function(e){e&&0===e.code&&t.updateCountInfo(e.data&&e.data.region_count)})},methods:{updateCountInfo:function(t){var e,i,a;if(t)for(e=0,i=this.navList.length;e<i;++e)(a=this.navList[e].tid)&&(this.navList[e].count=t[a]),"放映厅"===this.navList[e].name&&(this.navList[e].count=(t[23]||0)+(t[11]||0)+(t[177]||0))},getCount:function(t){return(t.count>999?"999+":t.count)||"--"},getSquareField:function(){var t=this;z({url:f.API+"/plaza/banner",dataType:"jsonp",cache:!0},!0).done(function(e){e&&0===e.code&&(t.squareFields=e.result||[])})},navItemClass:function(t,e){if(0===e)return"home";var i="",a=parseInt(this.tid);return this.tid&&(i+="channel"),177!==a&&23!==a&&11!==a||(a=23),a===parseInt(t)&&(i+=" on"),i},channelLink:function(t){var e=parseInt(t.tid);return 13===e||167===e||23===e?t.url:165===e?"//www.bilibili.com/v/"+t.route+"/ad/":e?"//www.bilibili.com/v/"+t.route+"/":"//www.bilibili.com"},subChannelLink:function(t,e){parseInt(t.tid);return parseInt(e.tid)?"//www.bilibili.com/v/"+t.route+"/"+e.route+"/":e.url}}},Y=(i(440),Object(P.a)(Z,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:"primary-menu report-wrap-module report-scroll-module "+(t.tid?"border-b":""),attrs:{id:"primary_menu"}},[i("ul",{staticClass:"nav-menu"},[t._l(t.navList,function(e,a){return i("li",{class:t.navItemClass(e.tid,a)},[i("a",{attrs:{href:t.channelLink(e)}},[a>0?i("div",{staticClass:"num-wrap"},[i("span",{domProps:{textContent:t._s(t.getCount(e))}})]):t._e(),i("div",{staticClass:"nav-name",domProps:{textContent:t._s(e.name)}})]),i("ul",{staticClass:"sub-nav"},t._l(e.sub,function(a){return 165!==parseInt(e.tid)?i("li",[i("a",{attrs:{href:t.subChannelLink(e,a)}},[i("span",[t._v(t._s(a.name))])])]):t._e()}))])}),t._m(0),i("li",{staticClass:"side-nav nav-square"},[i("a",{staticClass:"side-link",attrs:{href:"//www.bilibili.com/blackboard/x/act_list"},on:{mouseover:function(e){t.getSquareField()}}},[i("i",{staticClass:"square"}),i("span",[t._v("广场")])]),i("div",{staticClass:"sub-nav square-wrap"},[i("ul",t._l(t.squareMenu,function(e){return i("li",[i("a",{attrs:{href:e.url}},[i("i",{staticClass:"icon-prim",class:e.icon}),i("span",[t._v(t._s(e.name))])])])})),i("div",{staticClass:"square-field"},t._l(t.squareFields,function(e){return i("div",[i("a",{attrs:{href:t._f("trimHttp")(e.link),target:"_blank",title:e.title}},[i("bili-img",{attrs:{src:e.cover,width:240,height:84}})],1)])}))])]),i("li",{staticClass:"side-nav"},[t._m(1),i("div",{staticClass:"sub-nav nav-live"},[i("ul",t._l(t.liveMenu,function(e){return i("li",[i("a",{attrs:{href:e.url}},[i("span",[t._v(t._s(e.name))])])])})),t._m(2)])]),t._m(3)],2),i("gif-menu",{staticClass:"nav-gif",on:{showSnow:function(e){t.$emit("showSnow")}}})],1)},g,!1,null,null,null));Y.options.__file="PrimaryMenu.vue";var K=Y.exports;function tt(){this.userInfo=null,this.callbacks=[],this.once=[]}tt.prototype.getUserInfo=function(t,e){var i=this;z({url:f.API+"/x/web-interface/nav",type:"GET",dataType:"jsonp",data:{jsonp:"jsonp"},xhrFields:{withCredentials:!0},timeout:3e3}).done(function(a){0===a.code?(i.updateInfo(a.data,e&&e.isLogin!==a.data.isLogin),t&&t(a.data)):-101===a.code?i.updateInfo({isLogin:!1}):i.updateInfo({isLogin:!1,fallback:!0})}).fail(function(){i.updateInfo({isLogin:!1,fallback:!0})})},tt.prototype.updateInfo=function(t,e){this.userInfo=t;for(var i=0,a=this.callbacks.length;i<a;++i)this.callbacks[i](t,e);for(var n=0,o=this.once.length;n<o;++n)this.once[n](t,e);this.once=[],this.emit("LoginInfoLoaded",t)},tt.prototype._compatible=function(){if(this.userInfo){window.uid=this.userInfo.mid,window.biliLoginStatus=this.userInfo,window.attentionList=[];var t=[Date.now()+12e4];t.push(this.userInfo),t.push([]),t.push(this.userInfo.mid);try{window.sessionStorage.setItem("bili_login_status",JSON.stringify(t))}catch(t){}}},tt.prototype.addCallback=function(t,e){e?this.once.push(t):this.callbacks.push(t)},tt.prototype.onLoginOnce=function(t){this.addCallback(t,!0)},tt.prototype.onLoginUpdate=function(t){this.addCallback(t)},tt.prototype.removeCallback=function(t){if(t){for(var e=0,i=this.callbacks.length;e<i;++e)if(this.callbacks[e]===t){this.callbacks.splice(e,1);break}}else this.callbacks=[]},tt.prototype.status=function(){return this.userInfo},tt.prototype.isLogin=function(){return this.userInfo&&this.userInfo.isLogin},tt.prototype.checkMoral=function(){return!(this.userInfo&&this.userInfo.moral<60)},tt.prototype.level=function(){return this.userInfo&&this.userInfo.level_info?this.userInfo.level_info.current_level:null},tt.prototype.quickLogin=function(t){var e=this;/AppleWebKit.*Mobile.*/i.test(navigator.userAgent)?window.location.href="https://passport.bilibili.com/login":z({url:"https://static.hdslb.com/account/bili_quick_login.js",dataType:"script",cache:!0}).done(function(){var i=window.UserStatus;window.biliQuickLogin(function(){e.getUserInfo(t,i)})})},tt.prototype.emit=function(t,e){if(document.dispatchEvent){var i=document.createEvent("HTMLEvents");return i.initEvent("on"+t,!0,!0),i.data=e,!document.dispatchEvent(i)}var a=document.createEventObject();return a.data=e,document.fireEvent("on"+t,a)};var et=new tt,it=["成为正式会员，你可以：<br/>1、发射个性弹幕<br/>2、参与视频评论<br/>3、登录获得硬币<br/>4、投稿成为偶像","1、发射滚动弹幕<br/>2、投稿成为偶像","1、发射个性弹幕（彩色、高级）<br/>2、参与视频互动（评论）<br/>3、投稿成为偶像","1、发射个性弹幕（彩色、高级、顶部、底部）<br/>2、参与视频互动（评论、添加tag）<br/>3、投稿成为偶像","1、发射个性弹幕（彩色、高级、顶部、底部）<br/>2、参与视频互动（评论、添加tag）<br/>3、投稿成为偶像","1、购买邀请码（1个/月）<br/>2、发射个性弹幕（彩色、高级、顶部、底部）<br/>3、参与视频互动（评论、添加tag）<br/>4、投稿成为偶像","1、购买邀请码（2个/月）<br/>2、发射个性弹幕（彩色、高级、顶部、底部）<br/>3、参与视频互动（评论、添加tag）<br/>4、投稿成为偶像"],at={props:{userInfo:{default:{}},isFirst:{default:!1}},data:function(){return{trackerClass:""}},computed:{isVip:function(){return(1==this.userInfo.vipType||2==this.userInfo.vipType)&&1==this.userInfo.vipStatus},redName:function(){return 2==this.userInfo.vipType&&2!=this.userInfo.vipStatus?"big-vip-red":""},vipType:function(){return 1===this.userInfo.vipType?"大会员":2===this.userInfo.vipType?"年度大会员":""},bcoin:function(){return this.userInfo.wallet&&(this.userInfo.wallet.bcoin_balance||0==this.userInfo.wallet.bcoin_balance)?this.userInfo.wallet.bcoin_balance:"-"},money:function(){return this.userInfo.money},mailLink:function(){return"https://passport.bilibili.com/account/security#/bindmail"},phoneLink:function(){return"https://passport.bilibili.com/account/security#/bindphone"},exp:function(){var t=this.userInfo.level_info;return t?6===t.current_level?"100%":(t.current_exp/t.next_exp*100>>0)+"%":"0"},levelTxt:function(){return it[this.userInfo.level_info.current_level]},bindTips:function(){return 0===this.userInfo.email_verified&&0===this.userInfo.mobile_verified?'<a href="https://passport.bilibili.com/account/security#/bindphone" target="_blank">绑定手机可领取每日硬币</a>':1===this.userInfo.email_verified&&0===this.userInfo.mobile_verified?'<a href="https://passport.bilibili.com/account/security#/bindphone" target="_blank">绑定手机可领取每日硬币</a>':""}},watch:{isFirst:function(t){t||"tracker"!==this.trackerClass||this.userInfo.money++,this.checkTracker()}},methods:{trimHttp:A,getNumberDate:function(){var t=[],e=new Date;return t.push(e.getFullYear()),t.push(("0"+(e.getMonth()+1)).slice(-2)),t.push(("0"+e.getDate()).slice(-2)),+t.join("")+""},checkTracker:function(t){if(window.localStorage){var e=k.get("DedeUserID"),i=JSON.parse(D.getItem("time_tracker"))||{};i[e]!==this.getNumberDate()?(i[e]=this.getNumberDate(),D.setItem("time_tracker",JSON.stringify(i)),this.trackerClass="tracker"):(t&&this.userInfo.money++,this.trackerClass="")}else this.trackerClass=""}},created:function(){this.checkTracker(!0)}},nt=(i(442),Object(P.a)(at,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"profile-m"},[i("div",{staticClass:"header-u-info"},[i("div",{staticClass:"header-uname"},[i("b",{class:t.redName,domProps:{textContent:t._s(t.userInfo.uname)}}),t.isVip?i("p",{staticClass:"vip-type"},[i("a",{attrs:{href:"//account.bilibili.com/account/big",target:"_blank"}},[i("span",{class:t.redName,domProps:{textContent:t._s(t.vipType)}})])]):t._e()]),i("div",{staticClass:"btns-profile clearfix"},[i("div",{staticClass:"coin fl",class:t.trackerClass},[i("a",{attrs:{href:"https://account.bilibili.com/site/coin",target:"_blank",title:"硬币"}},[i("i",{staticClass:"bili-icon bi"}),i("i",{staticClass:"bili-icon jia"}),i("span",{staticClass:"num"},[t._v(t._s(t._f("formatNum")((t.money-1).toFixed(0))))]),i("span",{staticClass:"num-move"},[t._v(t._s(t._f("formatNum")(t.money)))]),i("span",{staticClass:"num-tip",attrs:{title:""}},[t._v("登录奖励")])])]),i("div",{staticClass:"currency fl"},[i("a",{attrs:{href:"https://pay.bilibili.com/bb_balance.html",target:"_blank",title:"B币"}},[i("i",{staticClass:"bili-icon"}),i("span",{staticClass:"num",domProps:{textContent:t._s(t.bcoin)}})])]),i("div",{staticClass:"ver phone fr",class:this.userInfo.mobile_verified?"verified":""},[i("a",{attrs:{href:t.phoneLink,target:"_blank"}},[i("i",{staticClass:"bili-icon"}),i("span",{staticClass:"tips",domProps:{textContent:t._s(this.userInfo.mobile_verified?"已绑定":"前去绑定手机")}})])]),i("div",{staticClass:"ver email fr",class:this.userInfo.email_verified?"verified":""},[i("a",{attrs:{href:t.mailLink,target:"_blank"}},[i("i",{staticClass:"bili-icon"}),i("span",{staticClass:"tips",domProps:{textContent:t._s(this.userInfo.email_verified?"已绑定":"前去绑定邮箱")}})])]),i("div",{staticClass:"link-to-bind-mobile",domProps:{innerHTML:t._s(t.bindTips)}})]),i("div",{staticClass:"grade clearfix"},[i("span",{staticClass:"hd fl"},[t._v("等级")]),i("a",{attrs:{href:"https://account.bilibili.com/site/record?type=exp",target:"_blank"}},[i("div",{staticClass:"bar fr"},[i("div",{staticClass:"lt",class:"lv"+t.userInfo.level_info.current_level}),i("div",{staticClass:"rate",style:"width:"+t.exp}),i("div",{staticClass:"num"},[t.userInfo.level_info.current_level?i("div",[t._v("\n              "+t._s(t.userInfo.level_info.current_exp)),i("span",[t._v("/"+t._s(t.userInfo.level_info.next_exp))])]):i("div",[i("a",{staticClass:"v0",attrs:{href:"https://account.bilibili.com/answer/base",target:"_blank"}},[t._v("答题转正直升Lv1")])])])])]),i("div",{staticClass:"desc-tips"},[i("span",{staticClass:"arrow-left"}),i("div",{staticClass:"lv-row"},[t._v("作为"),i("strong",[t._v("LV"+t._s(t.userInfo.level_info.current_level))]),t._v(t._s(0===t.userInfo.level_info.current_level?"，你无法享受特权":"，你可以："))]),i("div",{domProps:{innerHTML:t._s(t.levelTxt)}}),i("a",{staticClass:"help-link",attrs:{href:"//www.bilibili.com/blackboard/help.html#%E4%BC%9A%E5%91%98%E7%AD%89%E7%BA%A7%E7%9B%B8%E5%85%B3",target:"_blank"}},[t._v("会员等级相关说明 >")])])])]),i("div",{staticClass:"member-menu"},[i("ul",{staticClass:"clearfix"},[t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),i("li",[t.userInfo.has_shop?i("a",{staticClass:"bml",attrs:{href:t.trimHttp(t.userInfo.shop_url),target:"_blank"}},[i("i",{staticClass:"bili-icon b-icon-p-shopCenter"}),t._v("商家中心\n        ")]):t._e()])])]),t._m(5)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{staticClass:"account",attrs:{href:"https://account.bilibili.com/account/home",target:"_blank"}},[e("i",{staticClass:"bili-icon b-icon-p-account"}),this._v("个人中心\n        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{staticClass:"member",attrs:{href:"//member.bilibili.com/v2#/upload-manager/article",target:"_blank"}},[e("i",{staticClass:"bili-icon b-icon-p-member"}),this._v("投稿管理\n        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{staticClass:"wallet",attrs:{href:"https://pay.bilibili.com/",target:"_blank"}},[e("i",{staticClass:"bili-icon b-icon-p-wallet"}),this._v("B币钱包\n        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{staticClass:"live",attrs:{href:"//link.bilibili.com/p/center/index",target:"_blank"}},[e("i",{staticClass:"bili-icon b-icon-p-live"}),this._v("直播中心\n        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{staticClass:"bml",attrs:{href:"//show.bilibili.com/orderlist",target:"_blank"}},[e("i",{staticClass:"bili-icon b-icon-p-ticket"}),this._v("订单中心\n        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"member-bottom"},[e("a",{staticClass:"logout",attrs:{href:"https://account.bilibili.com/login?act=exit"}},[this._v("退出")])])}],!1,null,null,null));nt.options.__file="Profile.vue";var ot=nt.exports,st=i(199),rt=i.n(st),lt={components:{BiliImg:Q},props:{vipInfo:{default:{picAndWords:[],words:[]}},vipType:{},vipStatus:{},allowance:0},data:function(){return{defaultImg:rt.a,size:{1:{width:230,height:68},2:{width:107,height:143},3:{width:72,height:94}}}},computed:{col:function(){return this.vipInfo.picAndWords.length}},mounted:function(){var t=this;B("big_tab_show"),this.vipInfo.picAndWords.forEach(function(e){t.reportLocs(e,"show")}),this.vipInfo.words.forEach(function(e){t.reportLocs(e,"show")})},methods:{reportLocs:function(t,e){t.report?B(t.report):(B("header-vip-locs",Object.assign(t.originData,{resouce:t.resource,event:e})),reportObserver&&reportObserver.forceCommit&&reportObserver.forceCommit())},renew:function(){$.getScript("//s1.hdslb.com/bfs/static/plugin/vip/BiliBiliVipDialog.js",function(){new BiliBiliVipDialog({type:1,appId:27,month:1,orderType:1,returnUrl:window.location.href},function(){location.reload()})})}}},ct=(i(444),Object(P.a)(lt,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bili-header-m vip-m"},[i("div",{staticClass:"bubble-traditional"},[i("div",{staticClass:"recommand"},[i("div",{staticClass:"title"},[t._v("\n        精彩推荐\n      ")]),t.vipInfo.picAndWords.length>0?i("div",{staticClass:"bubble-col",class:"bubble-col-"+t.col},t._l(t.vipInfo.picAndWords,function(e){return i("div",{staticClass:"item"},[i("a",{staticClass:"pic",attrs:{target:"_blank",href:e.linkUrl},on:{click:function(i){t.reportLocs(e,"click")}}},[i("BiliImg",{attrs:{src:e.imageUrl,alt:e.content,width:t.size[t.col].width,height:t.size[t.col].height}})],1),i("a",{staticClass:"recommand-link",attrs:{target:"_blank",href:e.linkUrl},on:{click:function(i){t.reportLocs(e,"click")}}},[t._v(t._s(e.content))])])})):i("div",{staticClass:"bubble-col bubble-col-1"},[i("div",{staticClass:"item"},[i("a",{staticClass:"pic",attrs:{target:"_blank",href:"//account.bilibili.com/account/big"}},[i("BiliImg",{attrs:{src:t.defaultImg,alt:"大会员可畅享各种专属内容，还有游戏礼包、个性装扮等你来拿~",width:t.size[1].width,height:t.size[1].height}})],1),i("a",{staticClass:"recommand-link",attrs:{target:"_blank",href:"//account.bilibili.com/account/big"}},[t._v("大会员可畅享各种专属内容，还有游戏礼包、个性装扮等你来拿~")])])]),t.vipInfo.words.length>0?i("div",{staticClass:"notify"},[i("ul",{staticClass:"notify-list"},t._l(t.vipInfo.words,function(e){return i("li",[i("span",{staticClass:"icon"},[t._v(t._s(e.type))]),e.linkUrl?i("a",{attrs:{target:"_blank",href:e.linkUrl},on:{click:function(i){t.reportLocs(e,"click")}}},[t._v(t._s(e.content))]):i("a",{directives:[{name:"report",rawName:"v-report:click",value:e.report,expression:"item.report",arg:"click"}],on:{click:t.renew}},[t._v(t._s(e.content))])])}))]):t._e(),i("div",{staticClass:"renew-btn"},[i("button",{directives:[{name:"report",rawName:"v-report:click",value:"big_tab_open_click",expression:"'big_tab_open_click'",arg:"click"}],on:{click:t.renew}},[t._v(t._s(0===t.vipStatus?"开通大会员":"续期大会员"))]),t.allowance>0?i("span",{staticClass:"cash"},[t._v("代金券")]):t._e()])])])])},[],!1,null,null,null));ct.options.__file="Vip.vue";var dt=ct.exports,ut={data:function(){return{loading:!0,loaded:!1,error:!1,data:[]}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;this.loading=!0,this.error=!1,z({url:"".concat(f.API,"/x/v2/history/toview/web"),dataType:"jsonp",data:{jsonp:"jsonp",ps:6}}).done(function(e){e&&0===e.code&&(t.loading=!1,t.data=t._process(e.data.list||[]),t.loaded=!0)}).fail(function(){t.loading=!1,t.loaded=!0,t.error=!0,t.data=[]})},_process:function(t){var e,i,a,n;for(e=0,i=t.length;e<i;++e){var o=t[e];if(o._pNum=1,o.cid&&o.pages&&o.pages.length>0)for(a=0,n=o.pages.length;a<n;++a)if(o.pages[a].cid===o.cid){o._pNum=a+1;break}}return t}}},mt=(i(446),Object(P.a)(ut,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"watch-later-m mini-wnd-nav later-wnd"},[i("ul",{staticClass:"list history"},[t.loading?i("div",{staticClass:"m-w-loading"},[t._v("loading...")]):t._e(),t.loaded&&t.error?i("div",[i("a",{staticClass:"reload",on:{click:t.loadData}},[t._v("数据获取失败,点击重试")])]):t._e(),t.loaded&&t.data.length>0?i("div",t._l(t.data,function(e){return i("li",[i("a",{attrs:{href:"//www.bilibili.com/watchlater/#/av"+e.aid+"/p"+e._pNum,target:"_blank",title:e.title}},[t._v(t._s(e.title))])])})):t._e(),t.loaded&&0===t.data.length?i("div",[i("li",{staticClass:"no-data"},[t._v("列表中空空如也，赶紧去添加几个吧~")])]):t._e()]),t.data.length>0?i("div",[t._m(0)]):t._e()])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"read-more-grp clearfix"},[e("a",{staticClass:"read-more mr",attrs:{href:"//www.bilibili.com/watchlater/#/",target:"_blank"}},[this._v("\n        播放全部"),e("i",{staticClass:"b-icon b-icon-arrow-r"})]),e("a",{staticClass:"read-more",attrs:{href:"//www.bilibili.com/watchlater/#/list",target:"_blank"}},[this._v("\n        查看全部"),e("i",{staticClass:"b-icon b-icon-arrow-r"})])])}],!1,null,null,null));mt.options.__file="WatchLater.vue";var pt=mt.exports,ft={data:function(){return{loading:!0,loaded:!1,error:!1,data:[],mid:k.get("DedeUserID")}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;this.loading=!0,this.error=!1,z({url:"".concat(f.API,"/x/v2/fav/video/newest"),dataType:"jsonp",data:{jsonp:"jsonp",ps:6,sid:k.get("sid")}}).done(function(e){e&&0===e.code&&(t.loading=!1,t.data=e.data.archives,t.loaded=!0)}).fail(function(){t.error=!0,t.loading=!1,t.loaded=!0,t.data=[]})}}},ht=(i(448),Object(P.a)(ft,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"favorites-m mini-wnd-nav favorite-wnd"},[i("ul",{staticClass:"list history"},[t.loading?i("div",{staticClass:"m-w-loading"},[t._v("loading...")]):t._e(),t.loaded&&t.error?i("div",[i("a",{staticClass:"reload",on:{click:t.loadData}},[t._v("数据获取失败,点击重试")])]):t._e(),t.loaded&&t.data.length>0?i("div",t._l(t.data,function(e){return i("li",[e.title?i("a",{attrs:{href:"//www.bilibili.com/video/av"+e.aid,target:"_blank",title:e.title}},[t._v(t._s(e.title))]):i("a",{attrs:{href:"//www.bilibili.com/mylist"+e.lid,target:"_blank",title:e.description}},[t._v(t._s(e.description))])])})):t._e(),t.loaded&&0===t.data.length?i("div",[i("li",{staticClass:"no-data"},[t._v("列表中空空如也，赶紧去添加几个吧~")])]):t._e()]),i("div",[i("a",{staticClass:"read-more",attrs:{href:"//space.bilibili.com/"+t.mid+"/favlist",target:"_blank"}},[t._v("\n      查看更多"),i("i",{staticClass:"b-icon b-icon-arrow-r"})])])])},[],!1,null,null,null));ht.options.__file="Favorites.vue";var vt=ht.exports;function gt(t){if(t){for(var e=[],i=[],a=0;a<t.length;++a)-1===e.indexOf(t[a].aid)&&(t[a].url="//www.bilibili.com/video/av"+t[a].aid,e.push(t[a].aid),i.push(t[a]));return i}}function wt(t){return(t<10?"0":"")+t}function bt(t){var e="",i="",a="",n="",o="",s="",r="//www.bilibili.com";if(t.progress>0&&t.type>-1&&(s="?t="+t.progress),t.type>-1&&(e=2===t.device?"pc":1===t.device||3===t.device||5===t.device||7===t.device?"phone":4===t.device||6===t.device?"pad":33===t.device?"tv":"unknown"),t.page&&t.type>-1&&(0===(i=Math.round(t.progress/t.page.duration*100))?i="1%":i+="%",(-1===t.progress||t.progress>-1&&t.page&&t.page.duration-t.progress<30)&&(i="100%")),1!==t.type&&4!==t.type||!t.bangumi)if(t.count&&t.type>-1){var l="";n=t.title,t.count>1&&(a="第"+t.page.page+"P",l=(s?"&":"?")+"p="+t.page.page),o=r+"/video/av"+t.aid+s+l}else n=t.title,o=r+"/video/av"+t.aid+s;else a=isNaN(Number(t.bangumi.title))?t.bangumi.title:1===t.sub_type||4===t.sub_type?"第"+t.bangumi.title+"话":"第"+t.bangumi.title+"P",n=t.title,o="//bangumi.bilibili.com/anime/"+t.bangumi.season.season_id+"/play"+s+"#"+t.bangumi.ep_id;return t.title=n,t.url=o,t._state={deviceType:e,pagesTxt:a,percentTxt:i},t}function _t(t,e){var i,a=t.length,n={};for(i=0;i<a;++i){var o=t[i];e&&(o=bt(o));var s=yt(Ct(o.view_at));n[s]||(n[s]=[]),n[s].push(o)}n.last&&n.last.length&&(n[function(t){return t.getFullYear()+"-"+wt(t.getMonth()+1)+"-"+wt(t.getDate())+" "+wt(t.getHours())+":"+wt(t.getMinutes())+":"+wt(t.getSeconds())}(new Date(1e3*n.last[0].view_at))]=n.last,delete n.last);return{list:n,total:a}}function yt(t){return t<=0?"今日":t>0&&t<=864e5?"昨日":t>864e5&&t<=6048e5?"近1周":t>6048e5&&t<=2592e6?"1周前":t>2592e6&&t<=7776e6?"1个月前":"last"}function Ct(t){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-1e3*t}var kt={props:["isLogin"],data:function(){return{loading:!0,loaded:!1,openHistory:!0,error:!1,data:{list:[],total:0}}},mounted:function(){this.isLogin?this.loadOpenState():this.loadHistoryFromLocal()},methods:{loadOpenState:function(){var t=this;z({url:"".concat(f.API,"/x/v2/history/shadow"),type:"get",data:{jsonp:"jsonp"},xhrFields:{withCredentials:!0},dataType:"json"}).then(function(e){0===e.code&&(e.data?t.openHistory=!1:t.openHistory=!0,t.loadHistoryFromServer())})},loadHistoryFromLocal:function(){var t,e;this.error=!1,"www.bilibili.com"!==window.location.host?(e=$('iframe[src="//www.bilibili.com/html/iframemessage.html"]')[0])||"bilibili"===window.document.domain.split(".")[1]&&(window.document.domain="bilibili.com",(e=document.createElement("iframe")).style.cssText="position:absolute;width:1px;height:1px;left:-9999px;",e.src="//www.bilibili.com/html/iframemessage.html",document.body.appendChild(e),$(e).load(function(){t=e.contentWindow.localStorage,this.loading=!1,this.data=_t(gt(JSON.parse(t.biliHistoryData||"[]")).reverse().slice(0,6)),this.loaded=!0})):(t=window.localStorage,this.loading=!1,this.data=_t(gt(JSON.parse(t.biliHistoryData||"[]")).reverse().slice(0,6)),this.loaded=!0)},loadHistoryFromServer:function(){var t=this;this.loading=!0,this.error=!1,z({url:"".concat(f.API,"/x/v2/history"),dataType:"jsonp",data:{jsonp:"jsonp",pn:1,ps:6,sid:k.get("sid")}}).done(function(e){e&&0===e.code&&(t.loading=!1,t.data=_t(e.data,t.isLogin),t.loaded=!0)}).fail(function(){t.error=!0,t.loading=!1,t.loaded=!0,t.data=null})}}},Dt=(i(450),Object(P.a)(kt,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"history-record-m mini-wnd-nav history-wnd"},[t.isLogin?t._e():i("div",{staticClass:"top-login"},[i("p",{staticClass:"txt"},[t._v("登录后有更多功能哦~")]),i("a",{staticClass:"loginbtn",attrs:{href:"https://passport.bilibili.com/login"}},[t._v("登录")])]),t.openHistory?t._e():i("div",{staticClass:"top-open-history"},[i("p",{staticClass:"txt"},[t._v("历史功能暂停中，就算看不可描述的视频也不会被记录下来了")]),i("a",{staticClass:"openbtn",attrs:{href:"//www.bilibili.com/account/history",target:"_blank"}},[t._v("前去开启")])]),i("ul",{staticClass:"list history"},[t.loading?i("div",{staticClass:"m-w-loading"},[t._v("loading...")]):t._e(),t.loaded&&t.error?i("div",[i("a",{staticClass:"reload",on:{click:t.loadHistoryFromServer}},[t._v("数据获取失败,点击重试")])]):t._e(),t._l(t.data.list,function(e,a){return t.loaded&&t.data.list?i("div",[i("li",{staticClass:"timeline"},[i("span",{staticClass:"date"},[t._v(t._s(a))])]),t._l(e,function(e){return i("li",[i("a",{staticClass:"clearfix",attrs:{href:e.url,target:"_blank",title:e.title}},[i("div",{staticClass:"link"},[t._v(t._s(e.title))]),e._state?i("div",[i("div",{staticClass:"state"},[e._state.pagesTxt?i("span",{staticClass:"page"},[t._v(t._s(e._state.pagesTxt))]):t._e(),e._state.percentTxt&&e._state.pagesTxt?i("span",{staticClass:"split"},[t._v("|")]):t._e(),i("span",{staticClass:"progress"},[t._v(t._s(e._state.percentTxt))]),i("i",{staticClass:"device",class:e._state.deviceType})])]):t._e()])])})],2):t._e()}),t.loaded&&0===t.data.total?i("div",[i("li",{staticClass:"no-data"},[t._v("没有数据哦，多看点视频吧")])]):t._e()],2),t._m(0)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("a",{staticClass:"read-more",attrs:{href:"//www.bilibili.com/account/history",target:"_blank"}},[this._v("\n      查看更多"),e("i",{staticClass:"b-icon b-icon-arrow-r"})])])}],!1,null,null,null));Dt.options.__file="HistoryRecord.vue";var It=Dt.exports,Tt={data:function(){return{left1:0,left2:320}},mounted:function(){var t=this;this.startAnimate(),$(window).scroll(function(){window.pageYOffset>160&&t.$emit("hideLoginBubble")})},methods:{startAnimate:function(){var t=this;setInterval(function(){t.left1-=3,t.left2-=3,t.left1<-320&&(t.left1=320),t.left2<-320&&(t.left2=320)},50)}}},Mt=(i(452),Object(P.a)(Tt,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"i_menu i_menu_login"},[e("p",{staticClass:"tip"},[this._v("登录后你可以：")]),e("div",{staticClass:"img"},[e("img",{style:{left:this.left1+"px"},attrs:{src:"//static.hdslb.com/images/danmu.png"}}),e("img",{style:{left:this.left2+"px"},attrs:{src:"//static.hdslb.com/images/danmu.png"}})]),e("a",{staticClass:"login-btn",attrs:{href:"//passport.bilibili.com/login"}},[this._v("登录")]),this._m(0)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"reg"},[this._v("首次使用？"),e("a",{attrs:{href:"//passport.bilibili.com/register/phone.html"}},[this._v("点我去注册")])])}],!1,null,null,null));Mt.options.__file="login.vue";var xt=Mt.exports,Ut={props:{active:{},menuData:null,itemData:null,locId:null,locId2:null},computed:{menuLink:function(){return A(this.menuData&&this.menuData[0].url)},menuName:function(){return(this.menuData&&this.menuData[0].name||"").substring(0,3)}},methods:{formatImg:N,onClick:function(t,e){"entry"===t&&B("loc-meun-entry-click",{locid:this.locId}),"list"===t&&B("loc-meun-list-click",{locid:this.locId2,index:e})},onMouseover:function(){B("loc-meun-list-show",{locid:this.locId2})}}},jt=(i(454),Object(P.a)(Ut,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.menuData?i("li",{staticClass:"nav-item loc-menu",on:{mouseover:t.onMouseover}},[i("a",{staticClass:"t",attrs:{href:t.menuLink,target:"_blank"},domProps:{textContent:t._s(t.menuName)},on:{click:function(e){t.onClick("entry")}}}),i("transition",{attrs:{name:"slide-fade"}},[t.active.loaded&&t.itemData?i("div",{directives:[{name:"show",rawName:"v-show",value:t.active.show,expression:"active.show"}],staticClass:"loc-menu-box"},t._l(t.itemData,function(e,a){return i("a",{key:a,staticClass:"loc-link",attrs:{href:t._f("trimHttp")(e.url),target:"_blank"},on:{click:function(e){t.onClick("list",a)}}},[i("img",{attrs:{src:t.formatImg(e.pic)}}),i("span",{domProps:{textContent:t._s(e.name)}})])})):t._e()])],1):t._e()},[],!1,null,null,null));jt.options.__file="LocMenu.vue";var At=jt.exports,St=[],Nt=[],Lt=[],Jt={init:function(t,e){t&&(Nt.push(t),this.read(),this.sync()),this.config=e||{},this.config.syncCallback&&Lt.push(this.config.syncCallback)},read:function(){return I("search_history")&&"undefined"!=typeof JSON&&(St=JSON.parse(I("search_history"))||[],$.isArray(St)||(St=[])),St},save:function(t){var e;if(e="object"==C()(t)?t:{value:t},$.trim(e.value)&&encodeURIComponent(e.value)){var i={value:$.trim(e.value),isHistory:1,timestamp:Date.parse(new Date)};e.url&&(i.url=e.url);for(var a=St.length,n=!1,o=0;o<a;o++)if(St[o].value==i.value){St[o]=i,n=!0;break}n||(a<10?St.push(i):St[a-1]=i),St=St.sort(function(t,e){return t.timestamp>e.timestamp?-1:t.timestamp<e.timestamp?1:0});try{T("search_history",JSON.stringify(St))}catch(t){}this.sync()}},remove:function(t){for(var e=0;e<St.length;e++)if(St[e].value==t){St.splice(e,1);try{T("search_history",JSON.stringify(St))}catch(t){}this.sync();break}},sync:function(){for(var t=0;t<Nt.length;t++){var e=Nt[t].options.defaultSource;if(e&&(e.length!=St.length||St.length&&e.length&&e[0]!=St[0])){e.splice(0,e.length);for(var i=0;i<St.length;i++)e.push(St[i])}}for(var a=0;a<Lt.length;a++)Lt[a](St)},clear:function(t){St=[],T("search_history",null),this.sync(),t&&t()}},Et={props:{keyword:{},type:{default:"banner"},focus:{default:-1}},data:function(){return{list:[]}},watch:{keyword:function(t){t&&this.loadData()}},methods:{saveToHistory:function(t){Jt.save(t)},loadData:function(){var t=this;$.getJSON("//s.search.bilibili.com/main/suggest?jsoncallback=?",{func:"suggest",suggest_type:"accurate",sub_type:"tag",main_ver:"v1",highlight:"",userid:k.get("DedeUserID")||0,bangumi_acc_num:1,special_acc_num:1,topic_acc_num:1,upuser_acc_num:3,tag_num:10,special_num:10,bangumi_num:10,upuser_num:3,term:this.keyword,rnd:Math.random()}).then(function(e){0===e.code&&(t.list=e.result.tag||[],t.$emit("updateList",t.list))})}}},Bt=(i(456),Object(P.a)(Et,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.list.length>0?i("ul",{staticClass:"bilibili-suggest"},[i("li",{staticClass:"kw"},[i("a",{attrs:{href:"//search.bilibili.com/all?keyword="+t.keyword,target:"_blank"}},[t._m(0)])]),t._l(t.list,function(e,a){return i("li",{directives:[{name:"report",rawName:"v-report:click",value:"playpage_search_content",expression:"'playpage_search_content'",arg:"click"}],staticClass:"suggest-item",class:t.focus===a?"focus":""},[i("a",{directives:[{name:"report",rawName:"v-report:click",value:"playpage_search",expression:"'playpage_search'",arg:"click"}],attrs:{href:"//search.bilibili.com/all?keyword="+e.value+"&from_source="+t.type+"_suggest",target:"_blank"},domProps:{innerHTML:t._s(e.name)},on:{click:function(i){t.saveToHistory(e.value)}}})])})],2):t._e()},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"b-line"},[e("p",[e("span",[this._v("关键词")])])])}],!1,null,null,null));Bt.options.__file="Suggest.vue";var Ot=Bt.exports,$t={props:{keyword:"",type:{default:"banner"},focus:{default:-1}},data:function(){return{list:[]}},mounted:function(){this.loadData()},methods:{loadData:function(){this.list=Jt.read()},deleteHistory:function(t){Jt.remove(t),this.loadData()}}},Vt=(i(458),Object(P.a)($t,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.list.length>0?i("ul",{staticClass:"bilibili-suggest"},[t._m(0),t._l(t.list,function(e,a){return i("li",{staticClass:"suggest-item",class:t.focus===a?"focus":""},[i("a",{attrs:{href:"//search.bilibili.com/all?keyword="+e.value+"&from_source="+t.type+"_search",target:"_blank"},domProps:{textContent:t._s(e.value)}}),i("div",{staticClass:"cancel",on:{click:function(i){t.deleteHistory(e.value)}}})])})],2):t._e()},[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"kw"},[e("div",{staticClass:"b-line"},[e("p",[e("span",[this._v("历史搜索")])])])])}],!1,null,null,null));Vt.options.__file="History.vue";var Pt=Vt.exports,Rt={components:{Suggest:Ot,History:Pt},data:function(){return{keyword:"",defaultWord:{show:"",word:"",seid:""},showHistory:!1,showSuggest:!1,suggestFocus:-1,historyFocus:-1,suggestList:[],suggestMax:0,historyMax:0}},watch:{keyword:function(t){t?(this.showSuggest=!0,this.showHistory=!1):(this.showSuggest=!1,this.historyFocus=-1)}},computed:{from_source:function(){return this.keyword?"nav_search":this.showSuggest?"nav_suggest":"nav_recommend"},selectedWord:function(){return this.showSuggest&&this.suggestFocus>-1?this.suggestList[this.suggestFocus].value:this.showHistory&&this.historyFocus>-1?Jt.read()[this.historyFocus].value:""}},mounted:function(){var t=this;this.fetchPlaceHolder(),this.historyMax=Jt.read().length,$(document).on("click",function(e){$(t.$el).is(e.target)||$(t.$el).find(e.target).length>0||(t.showSuggest=!1,t.showHistory=!1,t.suggestFocus=-1,t.historyFocus=-1)})},methods:{fetchPlaceHolder:function(){var t=this;z({url:"".concat(f.API,"/x/web-interface/search/default"),type:"get",xhrFields:{withCredentials:!0}}).then(function(e){0===e.code&&(t.defaultWord.show=e.data.show_name||"",t.defaultWord.word=e.data.name||"",t.defaultWord.seid=e.data.seid||"")})},updateSelect:function(t){this.selectedWord=t},focusPrev:function(){this.showSuggest?this.suggestFocus=Math.max(this.suggestFocus-1,0):this.showHistory&&(this.historyFocus=Math.max(this.historyFocus-1,0))},focusNext:function(){this.showSuggest&&(this.suggestFocus=Math.min(this.suggestFocus+1,this.suggestMax-1)),this.showHistory&&(this.historyFocus=Math.min(this.historyFocus+1,this.historyMax-1))},updateSuggestList:function(t){this.suggestMax=t.length,this.suggestList=t,this.suggestFocus=-1},updateHistoryList:function(){this.historyMax=Jt.read().length,this.historyFocus=-1},onSubmit:function(t){t.preventDefault();var e={};if(this.keyword)e.keyword=this.keyword;else{if(0===this.defaultWord.word.indexOf("av"))return void window.open("//www.bilibili.com/video/"+this.defaultWord.word);e.keyword=this.defaultWord.word}this.selectedWord&&(e.keyword=this.selectedWord),e.from_source=this.from_source,Jt.save(this.keyword),window.open("//search.bilibili.com/all?"+$.param(e))}}},Qt=(i(460),Object(P.a)(Rt,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav-search"},[i("form",{attrs:{id:"nav_searchform"},on:{submit:function(e){t.onSubmit(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],ref:"input",staticClass:"nav-search-keyword",attrs:{type:"text",autocomplete:"off",accesskey:"s","x-webkit-speech":"","x-webkit-grammar":"builtin:translate",placeholder:t.defaultWord.show},domProps:{value:t.keyword},on:{focus:function(e){t.showHistory=!0},keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.focusPrev()},function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.focusNext()}],input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),i("button",{staticClass:"nav-search-submit",attrs:{type:"submit"}})]),i("Suggest",{directives:[{name:"show",rawName:"v-show",value:t.showSuggest&&""!==t.keyword,expression:"showSuggest && keyword !== ''"}],staticClass:"nav",attrs:{type:"nav",keyword:t.keyword,focus:t.suggestFocus},on:{updateList:t.updateSuggestList}}),i("History",{directives:[{name:"show",rawName:"v-show",value:!t.showSuggest&&""===t.keyword&&t.showHistory,expression:"!showSuggest && keyword === '' && showHistory"}],staticClass:"nav",attrs:{type:"nav",keyword:t.keyword,focus:t.historyFocus},on:{updateList:t.updateHistoryList}})],1)},[],!1,null,null,null));Qt.options.__file="NavSearch.vue";var Ft=Qt.exports,Ht={components:{Suggest:Ot,History:Pt},data:function(){return{keyword:"",defaultWord:{show:"",word:"",seid:""},showHistory:!1,showSuggest:!1,suggestFocus:-1,historyFocus:-1,suggestList:[],suggestMax:0,historyMax:0}},watch:{keyword:function(t){t?(this.showSuggest=!0,this.showHistory=!1):(this.showSuggest=!1,this.historyFocus=-1)}},computed:{from_source:function(){return this.keyword?"banner_search":this.showSuggest?"banner_suggest":"banner_recommend"},selectedWord:function(){return this.showSuggest&&this.suggestFocus>-1?this.suggestList[this.suggestFocus].value:this.showHistory&&this.historyFocus>-1?Jt.read()[this.historyFocus].value:""}},mounted:function(){var t=this;this.fetchPlaceHolder(),this.historyMax=Jt.read().length,$(document).on("click",function(e){$(t.$el).is(e.target)||$(t.$el).find(e.target).length>0||(t.showSuggest=!1,t.showHistory=!1,t.suggestFocus=-1,t.historyFocus=-1)})},methods:{fetchPlaceHolder:function(){var t=this;z({url:"".concat(f.API,"/x/web-interface/search/default"),type:"get",xhrFields:{withCredentials:!0}}).then(function(e){0===e.code&&(t.defaultWord.show=e.data.show_name||"",t.defaultWord.word=e.data.name||"",t.defaultWord.seid=e.data.seid||"")})},updateSelect:function(t){this.selectedWord=t},onSubmit:function(t){t.preventDefault();var e={};if(this.keyword)e.keyword=this.keyword;else{if(0===this.defaultWord.word.indexOf("av"))return window.open("//www.bilibili.com/video/"+this.defaultWord.word),void B("search_keyword",{type:"av",seid:this.defaultWord.seid});e.keyword=this.defaultWord.word}this.selectedWord&&(e.keyword=this.selectedWord),e.from_source=this.from_source,Jt.save(this.keyword),window.open("//search.bilibili.com/all?"+$.param(e)),B("search_keyword",{type:"search",seid:this.defaultWord.seid,source:this.from_source})},focusPrev:function(){this.showSuggest?this.suggestFocus=Math.max(this.suggestFocus-1,0):this.showHistory&&(this.historyFocus=Math.max(this.historyFocus-1,0))},focusNext:function(){this.showSuggest&&(this.suggestFocus=Math.min(this.suggestFocus+1,this.suggestMax-1)),this.showHistory&&(this.historyFocus=Math.min(this.historyFocus+1,this.historyMax-1))},updateSuggestList:function(t){this.suggestMax=t.length,this.suggestList=t,this.suggestFocus=-1},updateHistoryList:function(){this.historyMax=Jt.read().length,this.historyFocus=-1}}},Wt=(i(462),Object(P.a)(Ht,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search"},[i("form",{directives:[{name:"report",rawName:"v-report:submit",value:"playpage_search",expression:"'playpage_search'",arg:"submit"}],staticClass:"searchform",on:{submit:function(e){t.onSubmit(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],ref:"input",staticClass:"search-keyword",attrs:{type:"text",autocomplete:"off",accesskey:"s","x-webkit-speech":"","x-webkit-grammar":"builtin:translate",placeholder:t.defaultWord.show},domProps:{value:t.keyword},on:{focus:function(e){t.showHistory=!0},keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.focusPrev()},function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.focusNext()}],input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),i("button",{staticClass:"search-submit",attrs:{type:"submit"}})]),i("Suggest",{directives:[{name:"show",rawName:"v-show",value:t.showSuggest&&""!==t.keyword,expression:"showSuggest && keyword !== ''"}],attrs:{keyword:t.keyword,focus:t.suggestFocus},on:{updateList:t.updateSuggestList}}),i("History",{directives:[{name:"show",rawName:"v-show",value:!t.showSuggest&&""===t.keyword&&t.showHistory,expression:"!showSuggest && keyword === '' && showHistory"}],attrs:{keyword:t.keyword,focus:t.historyFocus},on:{updateList:t.updateHistoryList}}),t._m(0)],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"link-ranking",attrs:{href:"//www.bilibili.com/ranking",target:"_blank"}},[e("span",[this._v("排行榜")])])}],!1,null,null,null));Wt.options.__file="BannerSearch.vue";var zt=Wt.exports,Xt=i(200),Gt=i.n(Xt),qt=i(201),Zt=i.n(qt),Yt=i(51);window.UserStatus||(et.getUserInfo(),window.UserStatus=et,window.onLoginInfoLoaded=function(t,e){et.userInfo?(t(et.userInfo),e&&et.onLoginUpdate(t)):e?et.onLoginUpdate(t):et.onLoginOnce(t)},window.UserStatus.onLoaded=window.onLoginInfoLoaded,window.loadLoginStatus=function(){et.getUserInfo()});var Kt={1:"1576",13:"1612",167:"1920",3:"1580",129:"1584",4:"1588",36:"1592",160:"1600",119:"1608",155:"1604",165:"1620",166:"1620",5:"1596",23:"1634",11:"1616",181:"2210",177:"2260"},te={name:"HeadTop",props:{navType:{type:Number,default:0},stardust:{type:Boolean,default:!1},bannerData:null},data:function(){return{bannerImg:A(this.bannerData&&this.bannerData[0].pic)||"",logoImg:A(this.bannerData&&this.bannerData[0].litpic)||"",bannerLink:"",bannerTitle:"",navClass:"",vipRedTip:!1,vipInfo:{picAndWords:[],words:[]},navDropBox:{game:{show:!1,loaded:!1},live:{show:!1,loaded:!1},LocMenu1:{show:!1,loaded:!1},LocMenu2:{show:!1,loaded:!1},moe:{show:!1,loaded:!1},app:{show:!1,loaded:!1},upload:{show:!1,loaded:!1},profile:{show:!1,loaded:!1},vip:{show:!1,loaded:!1},watchLater:{show:!1,loaded:!1},favorites:{show:!1,loaded:!1},historyRecord:{show:!1,loaded:!1},loginBubble:{show:!1,loaded:!1}},locsMenuData:{},hoverTimer:null,userInfo:{isLogin:!1,loginType:0,face:"//static.hdslb.com/images/member/noface.gif"},classNavType:0,tid:""}},components:{PrimaryMenu:K,Profile:ot,Vip:dt,WatchLater:pt,Favorites:vt,HistoryRecord:It,LoginBubble:xt,LocMenu:At,NavSearch:Ft,BannerSearch:zt,NavIm:Gt.a,NavDynamic:Zt.a},computed:{bid:function(){return Kt[this.tid]||142},navState:function(){return this.navType||this.classNavType},getBannerBg:function(){return this.bannerImg?"background-image:url("+this.bannerImg+")":""},getLogo:function(){return this.logoImg?"background-image:url("+this.logoImg+")":""},getFace:function(){return A(N(this.userInfo.face,72,72))},pendant:function(){return!(!this.userInfo.pendant||!this.userInfo.pendant.image)&&{img:A(N(this.userInfo.pendant.image,168,168)),title:this.userInfo.pendant.name}}},beforeMount:function(){this.tid=window.bid||window.tid||window.topid;var t=document.querySelector(".z-top-container");t&&(-1!==t.className.indexOf("has-banner")?this.classNavType=1:-1!==t.className.indexOf("has-menu")?this.classNavType=2:-1!==t.className.indexOf("has-stardust")?this.classNavType=3:this.classNavType=0),window.tabSocket=new Yt.TabSocket},mounted:function(){var t=this;if(t.loadLocData(),window.onLoginInfoLoaded(function(e){t.onLoginUpdate(e),t.getLoginBubbleState(),e&&e.mid&&("www.bilibili.com"===location.host||"www.bilibili.com"===location.hostname)&&(Object(Yt.init)(),Object(Yt.requestPermission)(),window.tabSocket.addOperation({operation:1003,callback:function(t){1003===t.operation&&t.data&&window.tabSocket.broadcast&&(t.data.cover=t.data.cover.replace("http://","https://"),Object(Yt.sendNotification)({title:t.data.title,body:t.data.desc,icon:t.data.cover,image:t.data.cover,clickCallback:function(){window.open(t.data.url,"_blank")}}))}}))},!0),window.setTid=function(e){t.tid=e},!window.reportObserver){var e=document.createElement("script");e.src="//s1.hdslb.com/bfs/seed/jinkela/short/report-new/log-reporter.js",document.getElementsByTagName("body")[0].appendChild(e)}},methods:{loadLocData:function(){var t=this,e=(this.bid,this.bid+",2837,2836,2870,2953,2954,2955,2956");z({url:f.API+"/x/web-show/res/locs",data:{pf:0,ids:e,jsonp:"jsonp"},dataType:"jsonp",timeout:4e3},!0).done(function(e){e&&0===e.code?(t.handleBannerLocData(e),t.userInfo.isLogin&&t.handleVipLocData(e),t.locsMenuData=e.data):t.defaultBanner()}).fail(function(){t.defaultBanner()})},defaultBanner:function(){this.bannerImg="//i0.hdslb.com/bfs/activity-plat/static/20171220/68a052f664e8414bb594f9b00b176599/images/90w1lpp6ry.png",this.logoImg="//i0.hdslb.com/bfs/activity-plat/static/20171220/68a052f664e8414bb594f9b00b176599/images/j60lvxq9vy.png",this.bannerLink="#"},showDropBox:function(t){var e=this;e.hoverTimer=setTimeout(function(){e.navDropBox[t].loaded=!0,e.navDropBox[t].show=!0,"vip"===t&&(B("big_tab_show"),e.saveVipRedTip())},300)},hideDropBox:function(t){clearTimeout(this.hoverTimer),this.navDropBox[t].show=!1},onLoginUpdate:function(t){this.userInfo=Object.assign(this.userInfo,t),t.isLogin?this.userInfo.loginType=2:this.userInfo.loginType=t.fallback?3:1},getLoginBubbleState:function(){(new Date).getTime()>D.getItem("loginBubbleRequire")&&"www"===window.location.host.substr(0,3)&&(this.showDropBox("loginBubble"),D.setItem("loginBubbleRequire",(new Date).getTime()+6048e5))},handleBannerLocData:function(t){var e=this,i=t.data[e.bid][0];if(i){e.bannerImg=A(i.pic),e.logoImg=A(i.litpic);var a=A(i.url)||null;a&&-1!==a.indexOf("__MID__")&&-1!==a.indexOf("__REQUESTID__")&&e.userInfo.mid?e.bannerLink=a.replace("__MID__",e.userInfo.mid||"__MID__").replace("__REQUESTID__",i.request_id||"__REQUESTID__"):e.bannerLink=a,e.navClass=!i.style||1!==e.navState&&2!==e.navState?"":"blur-black",e.bannerTitle=i.name||"",e.bannerTitle||$(".head-title").remove()}},handleVipLocData:function(t){var e="";if(this.userInfo.vipDueDate&&0===this.userInfo.vip_pay_type){var i=D.getItem("vipRedTip"),a=this.dayDiff(this.userInfo.vipDueDate);(a>-8&&a<0&&"-7"!==i||a>7&&"7"!==i||a>=0&&a<7&&"0"!==i)&&(this.vipRedTip=!0),a>-8&&a<0&&(e="你的大会员".concat(-a,"天后就要过期啦～")),0===a&&(e="你的大会员今天过期啦～"),a>0&&a<8&&(e="你的大会员已经过期".concat(a,"天啦～"))}if(0===t.code){t.data[2837]||(t.data[2837]=[]),t.data[2836]||(t.data[2836]=[]),t.data[2870]||(t.data[2870]=[]);var n=t.data[2837].slice(0,3).map(function(t){return{id:t.id,linkUrl:t.url,imageUrl:t.pic,content:t.name,resource:2837,originData:t}}),o=t.data[2836].slice(0,1).map(function(t){return{id:t.id,linkUrl:t.url,imageUrl:t.pic,content:t.name,resource:2836,originData:t}}),s={picAndWords:[],words:[]};n.length>1?s.picAndWords=n:o.length>0?s.picAndWords=o:s.picAndWords=[];var r=t.data[2870].map(function(t){return{type:"通知",id:t.id,linkUrl:t.url,content:t.name,resource:2870,originData:t}});e&&r.push({type:"提醒",content:e,report:"big_tab_recall_click"}),s.words=r,this.vipInfo=s}},saveVipRedTip:function(){if(this.vipRedTip&&(this.vipRedTip=!1,this.userInfo.vipDueDate)){var t=this.dayDiff(this.userInfo.vipDueDate);t<0&&D.setItem("vipRedTip",-7),t>=0&&t<7&&D.setItem("vipRedTip",0),t>7&&D.setItem("vipRedTip",7)}},dayDiff:function(t){var e=new Date,i=e.getFullYear(),a=e.getMonth(),n=e.getDate(),o=new Date(i,a,n);return parseInt((o-t)/864e5)}}},ee=(i(464),Object(P.a)(te,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bili-header-m report-wrap-module",class:{"stardust-video":3===t.navState}},[i("div",{staticClass:"nav-menu",class:t.navClass},[1===t.navState||2===t.navState?i("div",{staticClass:"blur-bg",style:t.getBannerBg}):t._e(),i("div",{staticClass:"nav-mask"}),i("div",{staticClass:"bili-wrapper clearfix"},[i("div",{staticClass:"nav-con fl"},[i("ul",[i("li",{directives:[{name:"report",rawName:"v-report:click",value:"playpage_main",expression:"'playpage_main'",arg:"click"}],staticClass:"nav-item home",attrs:{"report-id":"playpage_main"}},[t._m(0)]),i("li",{directives:[{name:"report",rawName:"v-report:click",value:"playpage_huahua",expression:"'playpage_huahua'",arg:"click"}],staticClass:"nav-item hbili",attrs:{"report-id":"playpage_huahua"}},[i("a",{staticClass:"t",attrs:{href:"//h.bilibili.com",target:"_blank",title:"画友"}},[t._v("画友")])]),i("li",{directives:[{name:"report",rawName:"v-report:click",value:"Webtab_click_audio",expression:"'Webtab_click_audio'",arg:"click"}],staticClass:"nav-item mbili",attrs:{"report-id":"Webtab_click_audio"}},[i("a",{staticClass:"t",attrs:{href:"//www.bilibili.com/audio/home/?type=10",target:"_blank",title:"来探索bilibili音乐的世界吧~"}},[t._v("音频")])]),i("li",{directives:[{name:"report",rawName:"v-report:click",value:"playpage_game",expression:"'playpage_game'",arg:"click"}],staticClass:"nav-item game",attrs:{"report-id":"playpage_game"},on:{mouseenter:function(e){t.showDropBox("game")},mouseleave:function(e){t.hideDropBox("game")}}},[i("a",{staticClass:"t",attrs:{href:"//game.bilibili.com",target:"_blank",title:"游戏中心"}},[t._v("游戏中心")]),i("transition",{attrs:{name:"slide-fade"}},[t.navDropBox.game.loaded?i("div",{directives:[{name:"show",rawName:"v-show",value:t.navDropBox.game.show,expression:"navDropBox.game.show"}],staticClass:"i-frame",staticStyle:{width:"680px",height:"260px"}},[i("iframe",{attrs:{src:"https://www.bilibili.com/page-proxy/game-nav.html",frameborder:"0",width:"100%",height:"100%"}})]):t._e()])],1),i("li",{directives:[{name:"report",rawName:"v-report:click",value:"playpage_live",expression:"'playpage_live'",arg:"click"}],staticClass:"nav-item live",attrs:{"report-id":"playpage_live"},on:{mouseenter:function(e){t.showDropBox("live")},mouseleave:function(e){t.hideDropBox("live")}}},[i("a",{staticClass:"t",attrs:{href:"//live.bilibili.com",target:"_blank",title:"直播"}},[t._v("直播")]),i("transition",{attrs:{name:"slide-fade"}},[t.navDropBox.live.loaded?i("div",{directives:[{name:"show",rawName:"v-show",value:t.navDropBox.live.show,expression:"navDropBox.live.show"}],staticClass:"i-frame",staticStyle:{width:"528px",height:"266px"}},[i("iframe",{attrs:{src:"https://live.bilibili.com/blackboard/dropdown-menu.html",frameborder:"0",width:"100%",height:"100%"}})]):t._e()])],1),i("li",{directives:[{name:"report",rawName:"v-report:click",value:"playpage_buy",expression:"'playpage_buy'",arg:"click"}],staticClass:"nav-item buy",attrs:{"report-id":"playpage_buy"}},[i("a",{staticClass:"t",attrs:{href:"//show.bilibili.com/platform/home.html?msource=pc_web",target:"_blank",title:"会员购"}},[t._v("会员购")])]),i("loc-menu",{attrs:{active:t.navDropBox.LocMenu1,menuData:t.locsMenuData[2953],itemData:t.locsMenuData[2955],locId:2953,locId2:2955},nativeOn:{mouseenter:function(e){t.showDropBox("LocMenu1")},mouseleave:function(e){t.hideDropBox("LocMenu1")}}}),i("loc-menu",{attrs:{active:t.navDropBox.LocMenu2,menuData:t.locsMenuData[2954],itemData:t.locsMenuData[2956],locId:2954,locId2:2956},nativeOn:{mouseenter:function(e){t.showDropBox("LocMenu2")},mouseleave:function(e){t.hideDropBox("LocMenu2")}}}),i("li",{directives:[{name:"report",rawName:"v-report:mouseover",value:"mobile_app_hover",expression:"'mobile_app_hover'",arg:"mouseover"},{name:"report",rawName:"v-report:click",value:"playpage_download",expression:"'playpage_download'",arg:"click"}],staticClass:"nav-item mobile",attrs:{"report-id":"playpage_download"},on:{mouseenter:function(e){t.showDropBox("app")},mouseleave:function(e){t.hideDropBox("app")}}},[i("i",{staticClass:"b-icon b-icon-app"}),i("a",{staticClass:"t",attrs:{id:"header-mobile-app",href:"//app.bilibili.com",target:"_blank",title:"下载APP"}},[t._v("下载APP")]),i("transition",{attrs:{name:"slide-fade"}},[t.navDropBox.app.loaded?i("div",{directives:[{name:"show",rawName:"v-show",value:t.navDropBox.app.show,expression:"navDropBox.app.show"},{name:"report",rawName:"v-report:click",value:"playpage_download",expression:"'playpage_download'",arg:"click"}],staticClass:"app-orcode-box"}):t._e()])],1)],1)]),i("div",{directives:[{name:"report",rawName:"v-report:click",value:"playpage_contribution",expression:"'playpage_contribution'",arg:"click"}],staticClass:"up-load fr",attrs:{"report-id":"playpage_contribution"},on:{mouseenter:function(e){t.showDropBox("upload")},mouseleave:function(e){t.hideDropBox("upload")}}},[i("a",{staticClass:"u-link",attrs:{href:"//member.bilibili.com/v2#/upload/video/frame",target:"_blank"}},[t._v("投 稿")]),i("transition",{attrs:{name:"slide-fade"}},[t.navDropBox.upload.loaded?i("ul",{directives:[{name:"show",rawName:"v-show",value:t.navDropBox.upload.show,expression:"navDropBox.upload.show"},{name:"report",rawName:"v-report:click",value:"playpage_contribution",expression:"'playpage_contribution'",arg:"click"}],staticClass:"up-nav"},[i("li",[i("a",{attrs:{href:"//member.bilibili.com/v2#/upload/text/apply",target:"_blank"}},[i("i",{staticClass:"bili-icon rect i-art"}),i("span",[t._v("专栏投稿")])])]),i("li",[i("a",{attrs:{href:"//member.bilibili.com/v2#/upload/audio/",target:"_blank"}},[i("i",{staticClass:"bili-icon rect i-ap"}),i("span",[t._v("音频投稿")])])]),i("li",[i("a",{attrs:{href:"//member.bilibili.com/v2#/upload/video/frame",target:"_blank"}},[i("i",{staticClass:"bili-icon rect i-vp"}),i("span",[t._v("视频投稿")])])]),i("li",[i("a",{attrs:{href:"//member.bilibili.com/v2#/upload-manager/article",target:"_blank"}},[i("i",{staticClass:"bili-icon rect i-vm"}),i("span",[t._v("投稿管理")])])]),i("li",[i("a",{attrs:{href:"//member.bilibili.com/v2#/home",target:"_blank"}},[i("i",{staticClass:"bili-icon rect i-vc"}),i("span",[t._v("创作中心")])])])]):t._e()])],1),1===t.userInfo.loginType?i("div",{staticClass:"nav-con fr"},[i("ul",[i("li",{staticClass:"nav-item profile-info",on:{mouseenter:function(e){t.showDropBox("loginBubble")},mouseleave:function(e){t.hideDropBox("loginBubble")}}},[t._m(1),i("transition",{attrs:{name:"slide-fade"}},[t.navDropBox.loginBubble.loaded?i("LoginBubble",{directives:[{name:"show",rawName:"v-show",value:t.navDropBox.loginBubble.show,expression:"navDropBox.loginBubble.show"}],attrs:{isFirst:t.navDropBox.loginBubble.show},on:{hideLoginBubble:function(e){t.navDropBox.loginBubble.show=!1}}}):t._e()],1)],1),i("li",{directives:[{name:"report",rawName:"v-report:click",value:"playpage_history",expression:"'playpage_history'",arg:"click"}],staticClass:"nav-item",attrs:{"report-id":"playpage_history"},on:{mouseenter:function(e){t.showDropBox("historyRecord")},mouseleave:function(e){t.hideDropBox("historyRecord")}}},[i("a",{staticClass:"t",attrs:{href:"//www.bilibili.com/account/history",target:"_blank"}},[t._v("历史")]),i("transition",{attrs:{name:"slide-fade"}},[t.navDropBox.historyRecord.loaded?i("HistoryRecord",{directives:[{name:"show",rawName:"v-show",value:t.navDropBox.historyRecord.show,expression:"navDropBox.historyRecord.show"}],staticClass:"dd-bubble"}):t._e()],1)],1)])]):t._e(),i("div",{staticClass:"nav-con fr"},[2===t.userInfo.loginType||3===t.userInfo.loginType?i("ul",{staticClass:"fr"},[i("li",{directives:[{name:"report",rawName:"v-report:click",value:"playpage_account",expression:"'playpage_account'",arg:"click"}],staticClass:"nav-item profile-info",class:t.navDropBox.profile.show&&2===t.userInfo.loginType?"on":"",attrs:{"report-id":"playpage_account"},on:{mouseenter:function(e){t.showDropBox("profile")},mouseleave:function(e){t.hideDropBox("profile")}}},[i("a",{staticClass:"t",attrs:{href:"//space.bilibili.com",target:"_blank"}},[i("div",{staticClass:"i-face",class:t.pendant?"scale-in":""},[i("img",{staticClass:"face",attrs:{src:t.getFace}}),i("img",{staticClass:"pendant",attrs:{src:t.pendant.img,alt:t.pendant.title}}),t.userInfo.officialVerify&&0===t.userInfo.officialVerify.type?i("i",{staticClass:"legalize p-ver",attrs:{title:"个人认证"}}):t.userInfo.officialVerify&&1===t.userInfo.officialVerify.type?i("i",{staticClass:"legalize e-ver",attrs:{title:"企业/团体认证"}}):1!==t.userInfo.vipType&&2!==t.userInfo.vipType||1!==t.userInfo.vipStatus?t._e():i("i",{staticClass:"legalize vip"})])]),i("transition",{attrs:{name:"slide-fade"}},[t.navDropBox.profile.loaded&&2===t.userInfo.loginType?i("Profile",{directives:[{name:"show",rawName:"v-show",value:t.navDropBox.profile.show,expression:"navDropBox.profile.show"},{name:"report",rawName:"v-report:click",value:"playpage_account",expression:"'playpage_account'",arg:"click"}],staticClass:"dd-bubble",attrs:{userInfo:t.userInfo,isFirst:t.navDropBox.profile.show}}):t._e()],1)],1),i("li",{directives:[{name:"report",rawName:"v-report:click",value:"big_tab_click",expression:"'big_tab_click'",arg:"click"}],staticClass:"nav-item",attrs:{"report-id":"big_tab_click"},on:{mouseenter:function(e){t.showDropBox("vip")},mouseleave:function(e){t.hideDropBox("vip")}}},[i("a",{directives:[{name:"report",rawName:"v-report:click",value:"big_tab_click",expression:"'big_tab_click'",arg:"click"}],staticClass:"t",attrs:{href:"//account.bilibili.com/account/big",target:"_blank"}},[t._v("\n              大会员"),t.vipRedTip?i("div",{staticClass:"dot"}):t._e()]),i("transition",{attrs:{name:"slide-fade"}},[t.navDropBox.vip.loaded?i("Vip",{directives:[{name:"show",rawName:"v-show",value:t.navDropBox.vip.show,expression:"navDropBox.vip.show"},{name:"report",rawName:"v-report:click",value:"playpage_VIP",expression:"'playpage_VIP'",arg:"click"}],staticClass:"dd-bubble",attrs:{id:"i_menu_become_vip",vipInfo:t.vipInfo,vipType:t.userInfo.vipType,vipStatus:t.userInfo.vipStatus,allowance:t.userInfo.allowance_count}}):t._e()],1)],1),i("nav-im",{directives:[{name:"report",rawName:"v-report:click",value:"playpage_message",expression:"'playpage_message'",arg:"click"}],attrs:{"report-id":"playpage_message",uid:t.userInfo.mid}}),i("nav-dynamic",{directives:[{name:"report",rawName:"v-report:click",value:"playpage_dynamic",expression:"'playpage_dynamic'",arg:"click"}],attrs:{"report-id":"playpage_dynamic",uid:t.userInfo.mid}}),i("li",{directives:[{name:"report",rawName:"v-report:click",value:"playpage_watchlater",expression:"'playpage_watchlater'",arg:"click"}],staticClass:"nav-item",attrs:{"report-id":"playpage_watchlater"},on:{mouseenter:function(e){t.showDropBox("watchLater")},mouseleave:function(e){t.hideDropBox("watchLater")}}},[i("a",{staticClass:"t",attrs:{href:"//www.bilibili.com/watchlater/#/list",target:"_blank"}},[t._v("稍后再看")]),i("transition",{attrs:{name:"slide-fade"}},[t.navDropBox.watchLater.loaded?i("WatchLater",{directives:[{name:"show",rawName:"v-show",value:t.navDropBox.watchLater.show,expression:"navDropBox.watchLater.show"},{name:"report",rawName:"v-report:click",value:"playpage_watchlater",expression:"'playpage_watchlater'",arg:"click"}],staticClass:"dd-bubble"}):t._e()],1)],1),i("li",{directives:[{name:"report",rawName:"v-report:click",value:"playpage_collection",expression:"'playpage_collection'",arg:"click"}],staticClass:"nav-item",attrs:{"report-id":"playpage_collection"},on:{mouseenter:function(e){t.showDropBox("favorites")},mouseleave:function(e){t.hideDropBox("favorites")}}},[i("a",{staticClass:"t",attrs:{href:"//space.bilibili.com/"+t.userInfo.mid+"/favlist",target:"_blank"}},[t._v("收藏夹")]),i("transition",{attrs:{name:"slide-fade"}},[t.navDropBox.favorites.loaded?i("Favorites",{directives:[{name:"show",rawName:"v-show",value:t.navDropBox.favorites.show,expression:"navDropBox.favorites.show"},{name:"report",rawName:"v-report:click",value:"playpage_collection",expression:"'playpage_collection'",arg:"click"}],staticClass:"dd-bubble"}):t._e()],1)],1),i("li",{directives:[{name:"report",rawName:"v-report:click",value:"playpage_history",expression:"'playpage_history'",arg:"click"}],staticClass:"nav-item",attrs:{"report-id":"playpage_history"},on:{mouseenter:function(e){t.showDropBox("historyRecord")},mouseleave:function(e){t.hideDropBox("historyRecord")}}},[i("a",{staticClass:"t",attrs:{href:"//www.bilibili.com/account/history",target:"_blank"}},[t._v("历史")]),i("transition",{attrs:{name:"slide-fade"}},[t.navDropBox.historyRecord.loaded?i("HistoryRecord",{directives:[{name:"show",rawName:"v-show",value:t.navDropBox.historyRecord.show,expression:"navDropBox.historyRecord.show"},{name:"report",rawName:"v-report:click",value:"playpage_history",expression:"'playpage_history'",arg:"click"}],staticClass:"dd-bubble",attrs:{isLogin:t.userInfo.isLogin}}):t._e()],1)],1)],1):t._e(),0===t.navState||3===t.navState?i("NavSearch"):t._e()],1)])]),1===t.navState||2===t.navState?i("div",{staticClass:"head-banner report-wrap-module report-scroll-module",style:t.getBannerBg,attrs:{id:"banner_link"}},[i("div",{staticClass:"head-content bili-wrapper"},[i("p",{staticClass:"head-title",domProps:{textContent:t._s(t.bannerTitle)}}),i("BannerSearch"),i("a",{staticClass:"head-logo",style:t.getLogo,attrs:{href:"//www.bilibili.com"}})],1),i("a",{staticClass:"banner-link",attrs:{href:t.bannerLink,target:"_blank"}})]):t._e(),2===t.navState?i("div",{staticClass:"bili-wrapper"},[i("PrimaryMenu",{attrs:{tid:t.tid},on:{showSnow:function(e){t.$emit("showSnow")}}})],1):t._e()])},[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"t",attrs:{href:"//www.bilibili.com",title:"主站"}},[e("i",{staticClass:"bili-icon"}),this._v("主站")])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"t",attrs:{href:"//passport.bilibili.com/login"}},[e("div",{staticClass:"i-face"},[e("img",{staticClass:"face",attrs:{src:"//static.hdslb.com/images/akari.jpg"}})])])}],!1,null,null,null));ee.options.__file="App.vue";var ie=ee.exports,ae={data:function(){return{show:!1}},methods:{close:function(){this.show=!1,window.localStorage.setItem("home-app-download",1)}},mounted:function(){var t=this;window.onLoginInfoLoaded(function(e){e.isLogin&&window.localStorage.getItem("home-app-download")?t.show=!1:t.show=!0},!0)}},ne=(i(467),Object(P.a)(ae,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"home-app-download"},[e("div",{staticClass:"bili-wrapper con"},[e("img",{attrs:{src:i(466),width:"32",height:"32"}}),e("span",[this._v("哔哩哔哩，发弹幕看视频必备App")]),e("a",{staticClass:"btn-down",attrs:{href:"//app.bilibili.com/",target:"_blank"}},[this._v("下载")]),e("i",{staticClass:"icon btn-close",on:{click:this.close}})])])},[],!1,null,null,null));ne.options.__file="AppDownload.vue";var oe=ne.exports,se=new a.a,re={props:{data:{required:!0},model:{default:"scrollx"},auto:{default:!0},interval:{default:5e3},eventType:{default:"click"},width:Number,height:Number,webp:{default:!0},viewMore:!1,dataLocId:{default:null}},data:function(){return{currentIndex:-1,timer:null}},watch:{data:function(){this.sendAdData()},currentIndex:function(t,e){-1!=e&&this.sendAdData()}},mounted:function(){this.currentIndex=0,this.autoPlay()},methods:{change:function(t,e){this.eventType===t.type&&(this.currentIndex=e)},autoPlay:function(){if(this.auto&&1!==this.data.length){var t=this;this.auto&&(this.timer=setInterval(function(){t.play()},t.interval))}},play:function(){this.currentIndex++,this.currentIndex>this.data.length-1&&(this.currentIndex=0)},pause:function(){clearInterval(this.timer)},onMouseEnter:function(){this.pause()},onMouseLeave:function(){this.autoPlay()},sendAdData:function(){this.dataLocId&&se.$emit("slideShow",{data:this.data[this.currentIndex],id:this.dataLocId,el:this.$refs.carousel,index:this.currentIndex})}}},le=(i(469),Object(P.a)(re,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"carousel",staticClass:"carousel-module",on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave}},[a("div",{staticClass:"panel"},[a("ul",{staticClass:"pic",style:{width:"scrollx"===t.model?100*this.data.length+"%":"",marginLeft:"scrollx"===t.model?"-"+100*t.currentIndex+"%":"",height:"scrolly"===t.model?100*this.data.length+"%":"",marginTop:"scrolly"===t.model?"-"+100*t.currentIndex+"%":""}},t._l(t.data,function(e,i){return a("li",{class:["fade"===t.model?"fade":"","scrollx"===t.model?"scrollx":"","scrolly"===t.model?"scrolly":"",t.currentIndex==i?"on":"off"],attrs:{"data-id":e.id,"data-loc-id":t.dataLocId}},[a("a",{directives:[{name:"ad",rawName:"v-ad",value:{data:e,id:t.dataLocId},expression:"{data:item,id:dataLocId}"}],attrs:{href:t._f("trimHttp")(e.url),target:"_blank"}},[a("img",{attrs:{src:t._f("trimHttp")(e.pic),alt:e.title,width:t.width,height:t.height}})]),t.viewMore?a("a",{staticClass:"more-text",attrs:{href:"//www.bilibili.com/blackboard/topic_list.html",target:"_blank"}},[t._v("更多")]):t._e()])})),t.data.length>0?a("ul",{staticClass:"title"},t._l(t.data,function(e,n){return a("a",{directives:[{name:"ad",rawName:"v-ad",value:{data:e,id:t.dataLocId},expression:"{data:item,id:dataLocId}"}],class:t.currentIndex===n?"on":"",attrs:{href:t._f("trimHttp")(e.url),target:"_blank"}},[e.is_ad?a("img",{staticClass:"gg-pic",attrs:{src:i(73)}}):t._e(),t._v("\n          "+t._s(e.name)+"\n        ")])})):t._e(),t.data.length>1?a("ul",{staticClass:"trig"},t._l(t.data,function(e,i){return a("span",{class:t.currentIndex===i?"on":"",on:{click:function(e){t.change(e,i)},mouseover:function(e){t.change(e,i)}}})})):t._e()])])},[],!1,null,null,null));le.options.__file="Carousel.vue";var ce=le.exports,de=i(156),ue=i.n(de);function me(t){var e=$(t.el),i=t.el?e.offset().left+e.width()/2:$(window).width()/2,a=t.el?e.offset().top:$(window).height()/2+$(window).scrollTop(),n=t.msg||"",o=t.cd||2e3,s=t.type||"success";$(".bili-msg").length>0&&$(".bili-msg").remove();var r=$('<div class="bili-msg"></div>');r.appendTo("body"),r.text(n).css({left:i-r.outerWidth()/2,top:a-(r.outerHeight()+10)}),r.append('<iframe frameborder="0" class="layout"></iframe>'),r.addClass("show"),"error"===s&&r.addClass("error"),r[0].timer=setTimeout(function(){r.fadeOut(600,function(){r.remove()})},o)}var pe={props:{aid:{}},data:function(){return{added:!1,timer:null}},methods:{handleClick:function(t){t.preventDefault(),t.stopPropagation(),window.UserStatus&&window.UserStatus.isLogin()?this.added?(this.removeToList(),B("watch_later_del")):(this.addToList(),B("watch_later_add")):this.quickLogin()},addToList:function(){var t=this;z({url:f.API+"/x/v2/history/toview/add",type:"POST",data:{aid:t.aid,jsonp:"jsonp",csrf:k.get("bili_jct")},dataType:"json",xhrFields:{withCredentials:!0}}).done(function(e){0===e.code?(t.added=!0,t.showHint(t.$el,"已加稍后再看",1500)):t.showHint(t.$el,e.message,1500)}).fail(function(){t.showHint(t.$el,"添加失败，请重试",1500)})},removeToList:function(){var t=this;z({url:f.API+"/x/v2/history/toview/del",type:"POST",data:{jsonp:"jsonp",aid:t.aid,csrf:k.get("bili_jct")},xhrFields:{withCredentials:!0}}).done(function(e){e&&0===e.code?(t.added=!1,t.showHint(t.$el,"已从稍后再看列表中移除",1500)):t.showHint(t.$el,d.message,1500)}).fail(function(e){t.showHint(t.$el,"移除失败，请重试",1500)})},showHint:function(t,e,i){clearTimeout(this.timer),$("body .watch-later-hint").remove();var a=$('<div class="watch-later-hint">'+e+"</div>");$("body").append(a);var n=$(t).offset().left-(a.outerWidth()-$(t).outerWidth())/2,o=$(t).offset().top-$(t).height()-8;a.css({top:o,left:n}).fadeIn(),i&&(this.timer=setTimeout(function(){a.fadeOut()},i))},hideHint:function(){$("body .watch-later-hint").remove()},over:function(){var t=this.added?"移除":"稍后再看";this.showHint(this.$el,t)},out:function(){this.hideHint()},quickLogin:function(){UserStatus.quickLogin()}}},fe=(i(471),Object(P.a)(pe,function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"watch-later-trigger",class:t.added?"added":"",on:{click:function(e){t.handleClick(e)},mouseover:function(e){t.over()},mouseout:function(e){t.out()}}})},[],!1,null,null,null));fe.options.__file="WatchLater.vue";var he=fe.exports,ve={components:{BiliImg:Q,WatchLater:he},props:{data:{required:!0},isTag:{default:!1},lazy:{default:!0},isReport:{default:!1},index:{default:0}},methods:{getSrc:function(t){return A(N(t,160,100))},onclick:function(){se.$emit("card-groom-click",{aid:this.data.aid,index:this.index})}},mounted:function(){se.$emit("card-groom-show",{aid:this.data.aid,index:this.index,wideScreen:window.innerWidth>=1400})}},ge=(i(473),Object(P.a)(ve,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"groom-module",on:{click:t.onclick}},[i("a",{attrs:{href:"/video/av"+t.data.aid+"/",target:"_blank",title:t.data.title}},[t.lazy?i("bili-img",{attrs:{src:t.data.pic,alt:t.data.title,width:160,height:100}}):t.isReport&&0===t.index?i("img",{staticClass:"pic",attrs:{onload:"reportfs()",src:t.getSrc(t.data.pic),alt:t.data.title,width:"160",height:"100"}}):i("img",{staticClass:"pic",attrs:{src:t.getSrc(t.data.pic),alt:t.data.title,width:"160",height:"100"}}),t.isTag?i("i",{staticClass:"type-name"},[t._v(t._s(t.data.typename))]):t._e(),i("div",{staticClass:"card-mark"},[i("p",{staticClass:"title"},[t._v(t._s(t.data.title))]),i("p",{staticClass:"author"},[t._v("up主："+t._s(t.data.author))]),i("p",{staticClass:"play"},[t._v("播放："+t._s(t._f("formatNum")(t.data.play)))])])],1),i("watch-later",{staticClass:"w-later",attrs:{aid:t.data.aid}})],1)},[],!1,null,null,null));ge.options.__file="CardGroom.vue";var we=ge.exports,be={props:{state:{default:"loading"},data:{default:[]},reload:{default:""}},computed:{source:function(){var t=Object.prototype.toString;return"[object Array]"===t.call(this.data)?0!=this.data.length:"[object Object]"===t.call(this.data)?!function(t){return"{}"===JSON.stringify(t)}(this.data):void 0}},methods:{reloads:function(){this.reload&&se.$emit(this.reload),this.$emit("reload")}}},_e=(i(475),Object(P.a)(be,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.source?t._e():i("div",{staticClass:"load-state"},["loading"===t.state?i("span",{staticClass:"loading"},[t._v("正在加载...")]):t._e(),"error"===t.state?i("span",{staticClass:"error"},[t._v("加载失败，"),i("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.reloads()}}},[t._v("点击重试")])]):t._e(),"loaded"===t.state?i("span",{staticClass:"empty"},[t._v("没有数据(-_-#)")]):t._e()])},[],!1,null,null,null));_e.options.__file="Loading.vue";var ye=_e.exports,Ce={components:{Groom:we,Loading:ye},data:function(){return{currentIndex:0,apis:[{day:3,type:"三日"},{day:7,type:"一周"},{day:1,type:"昨日"}],prevName:"昨日",nextName:"一周",day:3,loadStatus:!0,state:"loaded"}},mounted:function(){var t=this;se.$on("reload-recommend-data",function(){t.ajax()})},computed:ue()({},Object(o.c)(["recommendData"])),methods:ue()({ajax:function(){var t=this;t.loadStatus=!1,t.SET_RECOMMEND_DATA([]),t.state="loading",z({url:f.API+"/x/web-interface/ranking/index",type:"GET",dataType:"jsonp",data:{jsonp:"jsonp",day:this.day}},!0).done(function(e){t.loadStatus=!0,e&&0===e.code&&e.data&&(t.state="loaded",t.SET_RECOMMEND_DATA(e.data))}).fail(function(e){t.state="error"})},onChange:function(t){if(this.loadStatus){var e=this.apis.length;"prev"===t&&(this.currentIndex--,this.currentIndex<0&&(this.currentIndex=e-1),B("home_recommend_prev")),"next"===t&&(this.currentIndex++,this.currentIndex>e-1&&(this.currentIndex=0),B("home_recommend_next"));var i=this.currentIndex-1<0?e-1:this.currentIndex-1,a=this.currentIndex+1>e-1?0:this.currentIndex+1;this.prevName=this.apis[i].type,this.nextName=this.apis[a].type,this.day=this.apis[this.currentIndex].day,this.ajax()}}},Object(o.b)(["SET_RECOMMEND_DATA"]))},ke=(i(477),Object(P.a)(Ce,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recommend-module clearfix"},[i("loading",{attrs:{data:t.recommendData,state:t.state,reload:"reload-recommend-data"}}),t._l(t.recommendData,function(t,e){return i("groom",{key:t.aid,staticClass:"home-card",attrs:{lazy:!1,isReport:!0,data:t,index:e}})}),i("span",{staticClass:"rec-btn prev",on:{click:function(e){t.onChange("prev")}}},[t._v(t._s(t.prevName))]),i("span",{staticClass:"rec-btn next",on:{click:function(e){t.onChange("next")}}},[t._v(t._s(t.nextName))])],2)},[],!1,null,null,null));ke.options.__file="Recommend.vue";var De={components:{Carousel:ce,Recommend:ke.exports,Loading:ye},props:{adData:{type:Object},state:{}},computed:{source:function(){var t=this.adData[23];return t||[]}}},Ie=(i(479),Object(P.a)(De,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chief-recommend-module report-wrap-module report-scroll-module clearfix",attrs:{id:"chief_recommend"}},[e("div",{staticClass:"carousel-box"},[e("loading",{attrs:{data:this.source,state:this.state,reload:"reload-ad-data"}}),e("carousel",{attrs:{data:this.source,viewMore:!0,width:440,height:220,dataLocId:23,webp:!1}})],1),e("recommend")],1)},[],!1,null,null,null));Ie.options.__file="ChiefRecommend.vue";var Te=Ie.exports,Me={data:function(){return{progress:0,loadStatus:!1,pic:"",x:0,y:0,size:0,width:0,data:null}},props:{aid:{required:!0},hit:{required:!0,default:!1},movex:{required:!0,default:0}},computed:{img:function(){return A(N(this.pic))},show:function(){return!(!this.hit||!this.data)}},watch:{hit:function(){this.hit&&!this.loadStatus&&this.ajax()},movex:function(t){this.onMouseMove(t)}},mounted:function(){this.width=this.$refs.cpm.offsetWidth},methods:{ajax:function(){var t=this;z({url:f.API+"/pvideo",dataType:"jsonp",data:{type:"jsonp",aid:t.aid}}).done(function(e){t.loadStatus=!0,0===e.code&&e.data&&(t.pic=e.data.image[0],t.data=e.data)})},onMouseMove:function(t){if(this.loadStatus&&this.data){var e=this.data.index.length,i=this.data.img_y_size/this.data.img_x_size*this.width;this.progress=Math.floor(t/this.width*100),this.size=this.width*this.data.img_x_len;var a=Math.floor(t/this.width*e);this.x=-a%this.data.img_x_len*this.width,this.y=-Math.floor(a/this.data.img_x_len)*i}}}},xe=(i(481),Object(P.a)(Me,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"cpm",class:t.show?"cover-preview-module show":"cover-preview-module"},[t.img?i("div",{staticClass:"cover",style:{backgroundImage:"url("+t.img+")",backgroundPosition:t.x+"px "+t.y+"px",backgroundSize:t.size+"px"}}):t._e(),i("div",{staticClass:"progress-bar"},[i("span",{style:{width:t.progress+"%"}})])])},[],!1,null,null,null));xe.options.__file="CoverPreview.vue";var Ue=xe.exports,je={props:{aid:{required:!0},hit:{required:!0,default:!1}},data:function(){return{loadStatus:!1,timer:null,timeout:null,danmus:[],index:0,speed:5,dest:1.5}},watch:{hit:function(t){!t||this.loadStatus?t?this.start():(clearInterval(this.timer),clearTimeout(this.timeout)):this.ajax()}},destroyed:function(){clearInterval(this.timer),clearTimeout(this.timeout)},methods:{ajax:function(){var t=this;z({url:f.API+"/x/v2/dm/ajax",data:{aid:t.aid,jsonp:"jsonp"},dataType:"jsonp"},!0).done(function(e){0===e.code&&(t.loadStatus=!0,t.danmus=e.data||[],t.start())})},start:function(){var t=this;this.$nextTick(function(){t.timer=setInterval(function(){if(t.index>t.danmus.length-1)clearInterval(t.timer),t.reset();else{var e=t.$refs["dm"+t.index]&&t.$refs["dm"+t.index][0];if(e&&e.offsetWidth){var i=e.offsetWidth;e.style.left=-i+"px",e.style.transition="left "+t.speed+"s linear",t.index++}else clearInterval(t.timer)}},1e3*t.dest)})},reset:function(){var t=this;t.timeout=setTimeout(function(){t.index=0;for(var e=0;e<t.danmus.length;e++){var i=t.$refs["dm"+e]&&t.$refs["dm"+e][0];i&&(i.style.left="",i.style.transition="")}t.start(),clearTimeout(t.timeout)},1e3*t.speed-1e3*t.dest)}}},Ae=(i(483),Object(P.a)(je,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.hit?"danmu-module show":"danmu-module"},t._l(t.danmus,function(e,a){return i("p",{ref:"dm"+a,refInFor:!0,class:a%2==0?"dm":"dm row2"},[t._v(t._s(e))])}))},[],!1,null,null,null));Ae.options.__file="Danmu.vue";var Se=Ae.exports,Ne={components:{CoverPreview:Ue,Danmu:Se,BiliImg:Q,WatchLater:he},data:function(){return{hit:!1,movex:0,timeout:null,isClient:!1}},props:{config:{type:Object},data:{required:!0},adData:{},viewStat:{default:!0},dataLocId:{default:null},lazy:{default:!0}},computed:{corner:function(){var t=this.data.stat.coin||0;return t<2e3?"":t>=2e3&&t<1e4?"silvery":t>=1e4?"golden":void 0},noWatchLater:function(){return this.config&&13===this.config.tid},cardPic:function(){return this.data.pic}},destroyed:function(){clearTimeout(this.timeout)},methods:{onMouseEnter:function(){var t=this;clearTimeout(t.timeout),t.timeout=setTimeout(function(){t.hit||(t.hit=!0),clearTimeout(t.timeout)},500)},onMouseLeave:function(){clearTimeout(this.timeout),this.hit=!1,this.movex=0},onMouseMove:function(t){this.movex=t.layerX||0},getSrc:function(t){return A(N(t,160,100))}},mounted:function(){this.isClient=!0}},Le=(i(485),Object(P.a)(Ne,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spread-module",attrs:{"data-id":t.adData&&t.adData.id,"data-loc-id":t.dataLocId},on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave,mousemove:t.onMouseMove}},[a("a",{directives:[{name:"ad",rawName:"v-ad",value:{data:t.adData,id:t.dataLocId,report:!0},expression:"{data:adData,id:dataLocId,report:true}"}],attrs:{href:"/video/av"+t.data.aid+"/",target:"_blank"}},[a("div",{staticClass:"pic"},[a("img",{attrs:{src:t.getSrc(t.cardPic),alt:t.data.title,width:"160",height:"100"}}),t.isClient?[a("cover-preview",{attrs:{aid:t.data.aid,hit:t.hit,movex:t.movex}}),a("div",{staticClass:"mask-video"}),a("danmu",{attrs:{aid:t.data.aid,hit:t.hit}}),t.data.duration?a("span",{staticClass:"dur"},[t._v(t._s(t._f("formatDuration")(t.data.duration)))]):t._e(),t.data.label?a("span",{staticClass:"promote",domProps:{textContent:t._s(t.data.label)}}):t._e(),t.adData.is_ad?a("img",{staticClass:"gg-pic",attrs:{src:i(196)}}):t._e(),t.noWatchLater?t._e():a("watch-later",{staticClass:"w-later",attrs:{aid:t.data.aid}})]:t._e()],2),a("p",{staticClass:"t",attrs:{title:t.data.title},domProps:{textContent:t._s(t.data.title)}})])])},[],!1,null,null,null));Le.options.__file="AdSpread.vue";var Je={components:{Spread:Le.exports,BiliImg:Q,Loading:ye},props:{fireData:{default:{}},adData:{type:Object},state:{},dataLocId:{default:null}},data:function(){return{onlineNumber:0,playOnline:0,playNumber:0}},mounted:function(){var t=this;z({url:f.API+"/x/web-interface/online",dataType:"jsonp",data:{jsonp:"jsonp"}},!0).done(function(e){e&&0===e.code&&(t.playNumber=e.data.all_count||"--",t.onlineNumber=e.data.web_online||"--",t.playOnline=e.data.play_online||"--")})},computed:{listSource:function(){var t=this.adData[34];if(t){for(var e=0;e<t.length;e++)t[e].archive||(t[e].archive={}),t[e].name&&(t[e].archive.title=t[e].name),t[e].pic&&(t[e].archive.pic=t[e].pic);return t}return[]},posSource:function(){var t=this.adData[29]&&this.adData[29][0];return t||{}}}},Ee=(i(487),Object(P.a)(Je,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"popularize-module report-wrap-module report-scroll-module clearfix",attrs:{id:"home_popularize"}},[a("div",{staticClass:"l-con"},[a("div",{staticClass:"headline clearfix"},[a("i",{staticClass:"icon icon_t icon-promote"}),a("span",{staticClass:"name"},[t._v("推广")]),t._l(t.fireData[1550],function(e,i){return a("a",{key:i,staticClass:"fire",attrs:{href:t._f("trimHttp")(e.url),target:"_blank"}},[t._v("\n        "+t._s(e.name)+"\n      ")])})],2),a("div",{staticClass:"storey-box clearfix"},[a("loading",{attrs:{data:t.listSource,state:t.state,reload:"reload-ad-data"}}),a("div",{staticClass:"spread-server-split-start",staticStyle:{display:"none"}}),t._l(t.listSource,function(t,e){return a("spread",{key:t.aid,attrs:{data:t.archive,adData:t,viewStat:!1,lazy:!1,dataLocId:34}})}),a("div",{staticClass:"spread-server-split-end",staticStyle:{display:"none"}})],2)]),a("div",{staticClass:"r-con"},[a("div",{staticClass:"online"},[a("a",{attrs:{href:"//www.bilibili.com/video/online.html",target:"_blank",title:"在线观看："+t.playOnline}},[t._v("在线人数："+t._s(t.onlineNumber))]),a("em"),a("a",{attrs:{href:"//www.bilibili.com/newlist.html",target:"_blank"}},[t._v("最新投稿："+t._s(t.playNumber))])]),t.posSource.src_id?a("div",{staticClass:"adpos",attrs:{"data-id":t.posSource.id,"data-loc-id":29}},[a("a",{directives:[{name:"ad",rawName:"v-ad",value:{data:t.posSource,id:29,report:!0},expression:"{data:posSource,id:29,report:true}"}],attrs:{target:"_blank"}},[a("img",{staticClass:"pic",attrs:{src:t._f("trimHttp")(t.posSource.pic),alt:t.posSource.title,width:"260",height:"150"}}),t.posSource.is_ad?a("img",{staticClass:"gg-pic",attrs:{src:i(73)}}):t._e()])]):t._e()])])},[],!1,null,null,null));Ee.options.__file="Popularize.vue";var Be=Ee.exports,Oe={components:{CoverPreview:Ue,Danmu:Se,BiliImg:Q,WatchLater:he},data:function(){return{hit:!1,movex:0,timeout:null}},props:{config:{type:Object},data:{required:!0},adData:{},viewStat:{default:!0},dataLocId:{default:null}},computed:{corner:function(){var t=this.data.stat.coin||0;return t<2e3?"":t>=2e3&&t<1e4?"silvery":t>=1e4?"golden":void 0},noWatchLater:function(){return this.config&&13===this.config.tid},cardPic:function(){return this.adData&&this.adData.is_ad_loc&&this.adData.pic?this.adData.pic:this.data.pic}},destroyed:function(){clearTimeout(this.timeout)},methods:{onMouseEnter:function(){var t=this;clearTimeout(t.timeout),t.timeout=setTimeout(function(){t.hit||(t.hit=!0),clearTimeout(t.timeout)},500)},onMouseLeave:function(){clearTimeout(this.timeout),this.hit=!1,this.movex=0},onMouseMove:function(t){this.movex=t.layerX||0}}},$e=(i(489),Object(P.a)(Oe,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spread-module",attrs:{"data-id":t.adData&&t.adData.id,"data-loc-id":t.dataLocId},on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave,mousemove:t.onMouseMove}},[a("a",{directives:[{name:"ad",rawName:"v-ad",value:{data:t.adData,id:t.dataLocId,report:!0},expression:"{data:adData,id:dataLocId,report:true}"}],attrs:{href:"/video/av"+t.data.aid,target:"_blank"}},[a("div",{staticClass:"pic"},[a("bili-img",{attrs:{src:t.cardPic,alt:t.data.title,width:160,height:100}}),t.viewStat?a("i",{class:"icon medal "+t.corner}):t._e(),a("cover-preview",{attrs:{aid:t.data.aid,hit:t.hit,movex:t.movex}}),a("div",{staticClass:"mask-video"}),a("danmu",{attrs:{aid:t.data.aid,hit:t.hit}}),t.data.duration?a("span",{staticClass:"dur"},[t._v(t._s(t._f("formatDuration")(t.data.duration)))]):t._e(),t.data.label?a("span",{staticClass:"promote",domProps:{textContent:t._s(t.data.label)}}):t._e(),t.adData&&t.adData.is_ad?a("img",{staticClass:"gg-pic",attrs:{src:i(196)}}):t._e(),t.noWatchLater?t._e():a("watch-later",{staticClass:"w-later",attrs:{aid:t.data.aid}})],1),a("p",{staticClass:"t",attrs:{title:t.data.title},domProps:{textContent:t._s(t.data.title)}}),t.viewStat?a("p",{staticClass:"num"},[a("span",{staticClass:"play"},[a("i",{staticClass:"icon"}),t._v(t._s(t._f("formatNum")(t.data.stat.view)))]),a("span",{staticClass:"danmu"},[a("i",{staticClass:"icon"}),t._v(t._s(t._f("formatNum")(t.data.stat.danmaku)))])]):t._e()])])},[],!1,null,null,null));$e.options.__file="CardSpread.vue";var Ve=$e.exports,Pe={props:{tabs:{type:Array},selected:{},useHover:{type:Boolean},useClick:{type:Boolean}},methods:{tabClick:function(t){this.useClick&&this.selectTab(t)},tabOver:function(t){this.useHover&&this.selectTab(t)},selectTab:function(t){this.$emit("selectTab",t)}}},Re=(i(491),Object(P.a)(Pe,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bili-tab"},t._l(t.tabs,function(e){return i("div",{staticClass:"bili-tab-item",class:e.value===t.selected?"on":"",domProps:{textContent:t._s(e.value===t.selected&&e.selectName||e.name)},on:{click:function(i){t.tabClick(e.value)},mouseover:function(i){t.tabOver(e.value)}}})}))},[],!1,null,null,null));Re.options.__file="BiliTab.vue";var Qe=Re.exports,Fe={components:{Spread:Ve,BiliTab:Qe,Loading:ye},props:{config:{type:Object},pushData:{},subtitleData:{}},data:function(){return{fanjuClass:"",initCount:0,videoCardData:[],apis:{dynamic:"/x/web-interface/dynamic/region",lastest:"/x/web-interface/newlist"},tabConfig:[{name:"有新动态",value:"dynamic"},{name:"最新投稿",value:"lastest"}],selectedTab:"dynamic",state:"loading"}},computed:{count:function(){var t=0;return this.initCount&&this.pushData?t=this.pushData-this.initCount:this.initCount=this.pushData,Math.abs(t)},zoneName:function(){return 13===this.config.tid?(this.fanjuClass="fj","番剧动态"):168===this.config.tid?(this.fanjuClass="fj","国产原创相关"):(this.fanjuClass="",this.config.name)}},methods:{selectTab:function(t){this.selectedTab=t,this.getVideoCardData(),B("home_"+t+"_"+this.config.type)},loadDynamicData:function(){this.selectedTab="dynamic",this.getVideoCardData(),this.initCount=0,B("home_dynamic_number_"+this.config.type)},getVideoCardData:function(){var t=this;t.videoCardData=[],t.state="loading",z({url:f.API+t.apis[t.selectedTab],type:"GET",data:{jsonp:"jsonp",ps:10,rid:this.config.tid},dataType:"jsonp"}).done(function(e){e&&0===e.code?(t.videoCardData=e.data.archives,t.state="loaded"):t.state="error"}).fail(function(e){t.state="error"})}}},He=(i(493),Object(P.a)(Fe,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"lazy",rawName:"v-lazy",value:{handler:t.getVideoCardData,id:t.config.tid},expression:"{handler: getVideoCardData, id: config.tid}"}],staticClass:"new-comers-module l-con"},[i("div",{staticClass:"zone-title"},[i("div",{class:"headline clearfix "+t.fanjuClass},[i("i",{class:"icon icon_t icon-"+t.config.type}),i("a",{staticClass:"name",attrs:{href:t.config.morelink}},[t._v(t._s(t.zoneName))]),i("bili-tab",{staticClass:"bili-tab",attrs:{tabs:t.tabConfig,selected:t.selectedTab,useClick:!0},on:{selectTab:t.selectTab}}),t._l(t.subtitleData,function(e,a){return i("a",{key:a,staticClass:"fire",attrs:{href:t._f("trimHttp")(e.url),target:"_blank"}},[i("i",{staticClass:"icon pmt-icon"}),t._v("\n        "+t._s(e.name)+"\n      ")])}),i("a",{staticClass:"link-more",attrs:{href:t.config.morelink,target:"_blank"}},[t._v("\n        更多\n        "),i("i",{staticClass:"icon"})]),t.count?i("div",{staticClass:"read-push",on:{click:t.loadDynamicData}},[i("i",{staticClass:"icon icon_read"}),i("span",{staticClass:"info"},[i("b",[t._v(t._s(t.count))]),t._v("条新动态")])]):t._e()],2)]),i("div",{staticClass:"storey-box clearfix"},[i("loading",{attrs:{data:t.videoCardData,state:t.state},on:{reload:function(e){t.getVideoCardData()}}}),t._l(t.videoCardData,function(e,a){return i("spread",{key:e.aid,attrs:{data:e,config:t.config}})})],2)])},[],!1,null,null,null));He.options.__file="NewComers.vue";var We=He.exports,ze={props:{list:{type:Array},selected:{}},computed:{selectText:function(){var t,e;for(t=0,e=this.list.length;t<e;++t)if(this.list[t].value===this.selected)return this.list[t].name}},methods:{isShowItem:function(t){return t.value!==this.selected},selectItem:function(t){this.$emit("selectDropdown",t)}}},Xe=(i(495),Object(P.a)(ze,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bili-dropdown"},[i("span",{staticClass:"selected",domProps:{textContent:t._s(t.selectText)}}),i("i",{staticClass:"icon icon-arrow-down"}),i("ul",{staticClass:"dropdown-list"},t._l(t.list,function(e){return i("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowItem(e),expression:"isShowItem(item)"}],staticClass:"dropdown-item",domProps:{textContent:t._s(e.name)},on:{click:function(i){t.selectItem(e.value)}}})}))])},[],!1,null,null,null));Xe.options.__file="BiliDropdown.vue";var Ge=Xe.exports,qe={components:{BiliImg:Q,WatchLater:he},props:{show:{default:1},list:{},max:Number,state:{}},data:function(){return{timeout:null}},computed:{data:function(){return this.max>0&&this.list?this.list.slice(0,this.max):this.list}},methods:{getItemCls:function(t){var e="";return t<=this.show&&(e+=" show-detail first"),t<=3&&(e+=" highlight"),e},getLinkUrl:function(t){return"/video/av"+t+"/"},getDuration:function(t){return j(t)||""},reload:function(){this.$emit("reloadRank")},onMouseEnter:function(t,e){var i=$(this.$el).find("li").eq(t).offset().left,a=$(this.$el).find("li").eq(t).offset().top-190;this.timeout=setTimeout(function(){se.$emit("show-card",{x:i,y:a,data:e,type:"video"})},500)},onMouseLeave:function(){se.$emit("off-card",{type:"video"}),clearTimeout(this.timeout)}}},Ze=(i(497),Object(P.a)(qe,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"rank-list"},["loaded"===t.state||t.list.length?t._e():i("li",{staticClass:"state"},[i("div",{staticClass:"b-loading",class:"loading"!==t.state?"b-load-fail":""},["error"===t.state?i("span",[t._v("加载失败，"),i("a",{on:{click:function(e){t.reload()}}},[t._v("点击重试")])]):t._e(),"loaded"===t.state&&0===t.list.length?i("span",[t._v("没有数据")]):t._e()])]),t._l(t.data,function(e,a){return i("li",{staticClass:"rank-item",class:t.getItemCls(a+1),on:{mouseenter:function(i){t.onMouseEnter(a,e)},mouseleave:t.onMouseLeave}},[i("i",{staticClass:"ri-num",domProps:{textContent:t._s(a+1)}}),i("a",{staticClass:"ri-info-wrap clearfix",attrs:{href:t.getLinkUrl(e.aid),target:"_blank",title:e.title+" 播放:"+e.play+" "+t.getDuration(e.duration)}},[a<t.show?i("bili-img",{staticClass:"ri-preview",attrs:{src:e.pic,alt:e.title,width:80,height:50}}):t._e(),i("div",{staticClass:"ri-detail"},[i("p",{staticClass:"ri-title"},[t._v(t._s(e.title))]),i("p",{staticClass:"ri-point"},[t._v("综合评分："+t._s(t._f("formatNum")(e.pts)))])]),a<t.show?i("watch-later",{staticClass:"w-later",attrs:{aid:e.aid}}):t._e()],1)])})],2)},[],!1,null,null,null));Ze.options.__file="RankList.vue";var Ye=0,Ke=1,ti={components:{BiliTab:Qe,BiliDropdown:Ge,RankList:Ze.exports},props:{config:Object,title:{default:"排行"}},data:function(){return{tabConfig:[{name:"全部",value:Ye},{name:"原创",value:Ke}],dpConfig:[{name:"三日",value:3},{name:"一周",value:7}],type:Ye,duration:3,all:[],origin:[],allState:"loading",originState:"loading"}},computed:{showMore:function(){return 165!==this.config.tid},showTab:function(){return 177!==this.config.tid&&11!==this.config.tid&&23!==this.config.tid},showRankSelect:function(){return 11!==this.config.tid&&23!==this.config.tid||(this.duration=7,!1)}},methods:{getList:function(){var t=this;t.setState("loading"),z({url:f.API+"/x/web-interface/ranking/region",data:{rid:t.config.tid,day:t.duration,original:t.type,jsonp:"jsonp"},dataType:"jsonp"},!0).done(function(e){0===e.code&&(t.setState("loaded"),t.setData(e.data||[]))}).fail(function(){t.setState("error"),t.setData([])})},setData:function(t){this.type===Ye&&(this.all=t),this.type===Ke&&(this.origin=t)},setState:function(t){this.type===Ye&&(this.allState=t),this.type===Ke&&(this.originState=t)},selectTab:function(t){this.type=t,this.getList(),B("home_ranking_tab_"+this.config.type+"_"+t)},selectDropdown:function(t){this.duration=t,this.getList(),B("home_ranking_select_"+this.config.type+"_"+t)},getLinkUrl:function(){var t="all";return this.type===Ke&&(t="origin"),"bangumi"===this.config.type&&(t="bangumi"),"movie"!==this.config.type&&"teleplay"!==this.config.type&&"documentary"!==this.config.type||(t="cinema"),"/ranking/"+t+"/"+this.config.tid+"/1/"+this.duration+"/"},getWrapCls:function(){return this.type===Ke?"show-origin":""}}},ei=(i(499),Object(P.a)(ti,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{directives:[{name:"lazy",rawName:"v-lazy",value:{handler:t.getList,id:t.config.tid},expression:"{handler: getList, id: config.tid}"}],staticClass:"sec-rank report-wrap-module",attrs:{id:"ranking_"+t.config.type}},[i("header",{staticClass:"rank-head"},[i("h3",{domProps:{textContent:t._s(t.title)}}),t.showTab?i("bili-tab",{staticClass:"rank-tab",attrs:{tabs:t.tabConfig,selected:t.type,useHover:!0},on:{selectTab:t.selectTab}}):t._e(),t.showRankSelect?i("bili-dropdown",{staticClass:"rank-dropdown",attrs:{list:t.dpConfig,selected:t.duration},on:{selectDropdown:t.selectDropdown}}):t._e()],1),i("div",{staticClass:"rank-list-wrap",class:t.getWrapCls()},[i("rank-list",{staticClass:"hot-list",attrs:{list:t.all,max:7,state:t.allState},on:{reloadRank:t.getList}}),i("rank-list",{staticClass:"origin-list",attrs:{list:t.origin,max:7,state:t.originState},on:{reloadRank:t.getList}})],1),t.showMore?i("a",{staticClass:"more-link",attrs:{href:t.getLinkUrl(),target:"_blank"}},[t._v("查看更多"),i("i",{staticClass:"icon icon-arrow-r"})]):t._e()])},[],!1,null,null,null));ei.options.__file="Ranking.vue";var ii=ei.exports,ai={components:{BiliImg:Q},props:{config:{type:Object},adData:{type:Object}},computed:{source:function(){var t=this.adData&&this.adData[this.config.ad.dataLocId];return t||[]}},methods:{getStyle:function(t){return t.url?{height:"",overflow:"hidden",margin:"0 auto 0"}:{height:"1px",overflow:"hidden",margin:0}}}},ni=(i(501),Object(P.a)(ai,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.config.ad.active&&0!=t.source.length?a("div",{staticClass:"gg-floor-module"},t._l(t.source,function(e,n){return a("div",{key:n,staticClass:"item",style:t.getStyle(e),attrs:{"data-id":e.id,"data-loc-id":t.config.ad.dataLocId}},[a("a",{directives:[{name:"ad",rawName:"v-ad",value:{data:e,id:t.config.ad.dataLocId,report:!0},expression:"{data: item, id: config.ad.dataLocId, report: true}"}],attrs:{target:"_blank"}},[a("bili-img",{attrs:{src:e.pic,alt:e.title,webp:!1,hd:!1}}),e.is_ad?a("img",{staticClass:"gg-pic",attrs:{src:i(73)}}):t._e()],1)])})):t._e()},[],!1,null,null,null));ni.options.__file="AdFloor.vue";var oi=ni.exports,si={components:{NewComers:We,Ranking:ii,AdFloor:oi},props:{config:{type:Object},fireData:{type:Object},dingCountData:{type:Object},adData:{type:Object}},computed:{dynamicData:function(){return this.activeData[this.config.tid]},subtitleData:function(){return this.fireData[String(this.config.zid)]},pushData:function(){return this.dingCountData[String(this.config.tid)]}}},ri=(i(503),Object(P.a)(si,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"zone-module"},[e("ad-floor",{attrs:{config:this.config,adData:this.adData}}),e("new-comers",{attrs:{subtitleData:this.subtitleData,pushData:this.pushData,config:this.config}}),e("ranking",{staticClass:"zone-rank",attrs:{config:this.config}})],1)},[],!1,null,null,null));ri.options.__file="Zone.vue";var li=ri.exports,ci={components:{BiliImg:Q},props:{data:{}},computed:{hua:function(){return isNaN(parseInt(this.data.bgmcount))?this.data.bgmcount:this.data.bgmcount+"话"}}},di=(i(505),Object(P.a)(ci,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-timing-module clearfix"},[i("a",{staticClass:"pic",attrs:{href:"//www.bilibili.com/bangumi/play/ss"+t.data.season_id+"/",target:"_blank",title:t.data.title}},[i("bili-img",{attrs:{src:t.data.square_cover,alt:t.data.title,width:72,height:72}})],1),i("div",{staticClass:"r-text"},[i("a",{staticClass:"t",attrs:{href:"//www.bilibili.com/bangumi/play/ss"+t.data.season_id+"/",target:"_blank",title:t.data.title}},[t._v(t._s(t.data.title))]),i("p",{class:"update "+(t.data.new?"on":"")},["-1"!=t.data.bgmcount?i("span",[t._v("更新至"),i("a",{attrs:{href:"//www.bilibili.com/bangumi/play/ep"+t.data.ep_id+"/",target:"_blank"}},[t._v(t._s(t.hua))])]):t._e(),"-1"===t.data.bgmcount?i("span",[t._v("尚未更新")]):t._e()])])])},[],!1,null,null,null));di.options.__file="CardTiming.vue";var ui={components:{BiliTab:Qe,CardTiming:di.exports},props:{config:{type:Object},list:{type:Array}},computed:{cardData:function(){if(-1===this.selectedTab){var t=16;return 168===this.config.tid&&(t=12),this.list.slice(0,t)}var e=[],i=[].concat(this.list);i.sort(function(t,e){return e.favorites-t.favorites});for(var a=0;a<i.length;a++)i[a].weekday===this.selectedTab&&e.push(i[a]);return e},tIcon:function(){return 13===this.config.tid?"icon-bangumi":168===this.config.tid?"icon-guochuang":""},moreLike:function(){return 13===this.config.tid?"//www.bilibili.com/anime/timeline/":168===this.config.tid?"//www.bilibili.com/guochuang/timeline/":""}},data:function(){return{tabConfig:[{name:"最新",value:-1},{name:"一",selectName:"周一",value:1},{name:"二",selectName:"周二",value:2},{name:"三",selectName:"周三",value:3},{name:"四",selectName:"周四",value:4},{name:"五",selectName:"周五",value:5},{name:"六",selectName:"周六",value:6},{name:"日",selectName:"周日",value:0}],selectedTab:-1}},methods:{selectTab:function(t){this.selectedTab=t}}},mi=(i(507),Object(P.a)(ui,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bangumi-timing-module l-con"},[i("div",{staticClass:"headline clearfix"},[i("i",{class:"icon icon_t "+t.tIcon}),i("a",{staticClass:"name",attrs:{href:t.config.morelink}},[t._v(t._s(t.config.name))]),i("bili-tab",{attrs:{tabs:t.tabConfig,selected:t.selectedTab,useClick:!0},on:{selectTab:t.selectTab}}),i("a",{staticClass:"c-clink",attrs:{href:t.moreLike,target:"_blank"}},[t._v("\n\t\t\t\t新番时间表"),i("i",{staticClass:"icon"})])],1),i("div",{class:"timing-box custom-scrollbar clearfix "+(168===t.config.tid?"gc":"")},[t._l(t.cardData,function(t,e){return i("card-timing",{key:e,staticClass:"card-timing",attrs:{data:t}})}),0===t.cardData.length?i("div",{staticClass:"empty-status"},[i("p",[t._v("今天没有"+t._s(t.config.alias)+"更新")])]):t._e()],2)])},[],!1,null,null,null));mi.options.__file="BangumiTiming.vue";var pi=mi.exports,fi={props:{list:Array,max:Number,state:{}},data:function(){return{timeout:null}},computed:{data:function(){return this.max>0&&this.list?this.list.slice(0,this.max):this.list}},methods:{getDesc:function(t){return 1===t.is_finish?"全"+t.total_count+"话":1===t.is_started?isNaN(t.newest_ep_index)?"更新至"+t.newest_ep_index:parseInt(t.newest_ep_index)<0?"连载中":"更新至第"+t.newest_ep_index+"话":"即将开播"},getItemCls:function(t){var e="";return t<=3&&(e+=" highlight"),e},getLinkUrl:function(t){return"//www.bilibili.com/bangumi/play/ss".concat(t,"/")},onMouseEnter:function(t,e){var i=$(this.$el).find("li").eq(t).offset().left,a=$(this.$el).find("li").eq(t).offset().top-150;this.timeout=setTimeout(function(){se.$emit("show-card",{x:i,y:a,data:e,type:"bangumi"})},500)},onMouseLeave:function(){se.$emit("off-card",{type:"bangumi"}),clearTimeout(this.timeout)}}},hi=(i(509),Object(P.a)(fi,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"bangumi-rank-list rank-list"},["loaded"===t.state||t.list.length?t._e():i("li",{staticClass:"state"},[i("div",{staticClass:"b-loading",class:"loading"!==t.state?"b-load-fail":""},["error"===t.state?i("span",[t._v("加载失败，"),i("a",{on:{click:function(e){t.reload()}}},[t._v("点击重试")])]):t._e(),"loaded"===t.state&&0===t.list.length?i("span",[t._v("没有数据")]):t._e()])]),t._l(t.data,function(e,a){return i("li",{key:a,staticClass:"rank-item",class:t.getItemCls(a+1),on:{mouseenter:function(i){t.onMouseEnter(a,e)},mouseleave:t.onMouseLeave}},[i("i",{staticClass:"ri-num",domProps:{textContent:t._s(a+1)}}),i("a",{staticClass:"ri-info-wrap",attrs:{href:t.getLinkUrl(e.season_id),target:"_blank",title:e.title+" 播放:"+e.play_count}},[i("p",{staticClass:"ri-title",domProps:{textContent:t._s(e.title)}}),i("span",{staticClass:"ri-total",domProps:{textContent:t._s(t.getDesc(e))}})])])})],2)},[],!1,null,null,null));hi.options.__file="BangumiRankList.vue";var vi=hi.exports,gi={components:{BiliDropdown:Ge,BangumiRankList:vi},props:{config:Object},data:function(){return{dpConfig:[{name:"三日",value:3},{name:"一周",value:7}],duration:3,all:[],state:"loading"}},methods:{getList:function(){var t=this;this.state="loading",z({url:"//bangumi.bilibili.com/jsonp/season_rank_list/global/"+t.duration+".ver",dataType:"jsonp",jsonpCallback:"bangumiRankCallback",cache:!0},!0).done(function(e){0===e.code&&(t.state="loaded",t.all=e.result&&e.result.list||[])}).fail(function(){t.state="error"})},selectDropdown:function(t){this.duration=t,this.getList(),B("home_ranking_select_"+this.config.type+"_"+t)},getLinkUrl:function(){return"/ranking/bangumi/"+this.config.tid+"/1/"+this.duration+"/"}}},wi=(i(511),Object(P.a)(gi,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{directives:[{name:"lazy",rawName:"v-lazy",value:{handler:t.getList,id:t.config.tid},expression:"{handler: getList, id: config.tid}"}],staticClass:"sec-rank report-wrap-module",attrs:{id:"ranking_timing_"+t.config.type}},[i("header",{staticClass:"rank-head"},[i("h3",[t._v("排行")]),i("bili-dropdown",{staticClass:"rank-dropdown",attrs:{list:t.dpConfig,selected:t.duration},on:{selectDropdown:t.selectDropdown}})],1),i("div",{staticClass:"rank-list-wrap"},[i("bangumi-rank-list",{attrs:{list:t.all,max:10,state:t.state}})],1),i("a",{staticClass:"more-link",attrs:{href:t.getLinkUrl(),target:"_blank"}},[t._v("查看更多"),i("i",{staticClass:"icon icon-arrow-r"})])])},[],!1,null,null,null));wi.options.__file="BangumiRank.vue";var bi={components:{Zone:li,BangumiTiming:pi,NewComers:We,BangumiRank:wi.exports,Carousel:ce,AdFloor:oi},props:{config:{type:Object},fireData:{type:Object},dingCountData:{type:Object},adData:{type:Object}},data:function(){return{timingData:[],sliderData:[]}},computed:{subtitleData:function(){return this.fireData[String(this.config.zid)]},pushData:function(){return this.dingCountData[String(this.config.tid)]}},mounted:function(){this.getTimingData(),this.getSliderData()},methods:{getTimingData:function(){var t=this;z({url:"//bangumi.bilibili.com/api/timeline_v2_global"},!0).done(function(e){e&&0===e.code&&(t.timingData=e.result)}).fail(function(){})},getSliderData:function(){var t=this;z({url:"//api.bilibili.com/pgc/operation/api/slideshow?position_id=104"},!0).done(function(e){if(e&&0===e.code){var i=[];for(var a in e.result)i.push({name:e.result[a].title,url:e.result[a].link,pic:e.result[a].img});t.sliderData=i}}).fail(function(){})}}},_i=(i(513),Object(P.a)(bi,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bangumi-module"},[i("ad-floor",{attrs:{config:t.config,adData:t.adData}}),i("div",{staticClass:"up clearfix"},[i("bangumi-timing",{attrs:{config:t.config,list:t.timingData}}),i("bangumi-rank",{staticClass:"zone-rank",attrs:{config:t.config}})],1),i("new-comers",{attrs:{subtitleData:t.subtitleData,pushData:t.pushData,config:t.config}}),i("div",{staticClass:"r-con"},[t._m(0),i("carousel",{attrs:{eventType:"mouseover",data:t.sliderData,width:260,height:268}})],1)],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("h3",[this._v("特别推荐")])])}],!1,null,null,null));_i.options.__file="ZoneBangumi.vue";var yi=_i.exports,Ci={components:{BiliDropdown:Ge,BangumiRankList:vi,BiliImg:Q,Carousel:ce},props:{config:Object},data:function(){return{dpConfig:[{name:"三日",value:3},{name:"一周",value:7}],duration:3,all:[],sliderData:[],state:"loading"}},mounted:function(){this.getSliderData()},methods:{getList:function(){var t=this,e=this;this.state="loading",z({url:"//bangumi.bilibili.com/jsonp/season_rank_list/cn/"+e.duration+".ver",dataType:"jsonp",jsonpCallback:"guochuangRankCallback",cache:!0},!0).done(function(i){0===i.code&&(t.state="loaded",e.all=i.result&&i.result.list||[])}).fail(function(){t.state="error"})},getId:function(){return uuid()},selectDropdown:function(t){this.duration=t,this.getList(),B("home_ranking_select_"+this.config.type+"_"+t)},getSliderData:function(){var t=this;z({url:"//api.bilibili.com/pgc/operation/api/slideshow?position_id=101"},!0).done(function(e){if(e&&0===e.code){for(var i=[],a=0;a<e.result.length;a++)i.push({name:e.result[a].title,url:e.result[a].link,pic:e.result[a].img});t.sliderData=i}}).fail(function(){})},getLinkUrl:function(){return"/ranking/bangumi/167/0/"+this.duration+"/"}}},ki=(i(515),Object(P.a)(Ci,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{directives:[{name:"lazy",rawName:"v-lazy",value:{handler:t.getList,id:t.config.tid},expression:"{handler: getList, id: config.tid}"}],staticClass:"sec-rank-gc report-wrap-module",attrs:{id:"ranking_timing_"+t.config.type}},[i("header",{staticClass:"rank-head"},[i("h3",[t._v("排行")]),i("bili-dropdown",{staticClass:"rank-dropdown",attrs:{list:t.dpConfig,selected:t.duration},on:{selectDropdown:t.selectDropdown}})],1),i("div",{staticClass:"rank-list-wrap"},[i("bangumi-rank-list",{attrs:{list:t.all,max:5,state:t.state}})],1),i("a",{staticClass:"more-link",attrs:{href:t.getLinkUrl(),target:"_blank"}},[t._v("查看更多"),i("i",{staticClass:"icon icon-arrow-r"})]),i("div",{staticClass:"slider-img"},[i("carousel",{attrs:{eventType:"mouseover",data:t.sliderData,width:260,height:90}})],1)])},[],!1,null,null,null));ki.options.__file="BangumiCnRank.vue";var Di={components:{Zone:li,BangumiTiming:pi,BangumiCnRank:ki.exports,AdFloor:oi,NewComers:We,Ranking:ii},props:{config:{type:Object},fireData:{type:Object},dingCountData:{type:Object},adData:{type:Object}},data:function(){return{timingData:[]}},computed:{subtitleData:function(){return this.fireData[String(this.config.zid)]},pushData:function(){return this.dingCountData[String(this.config.tid)]}},methods:{getTimingData:function(){var t=this;z({url:"//bangumi.bilibili.com/api/timeline_v2_cn"},!0).done(function(e){e&&0===e.code&&(t.timingData=e.result)}).fail(function(){})}},mounted:function(){this.getTimingData()}},Ii=(i(517),Object(P.a)(Di,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"guochuang-module"},[i("ad-floor",{attrs:{config:t.config,adData:t.adData}}),i("div",{staticClass:"top-gc clearfix"},[i("bangumi-timing",{attrs:{config:t.config,list:t.timingData}}),i("bangumi-cn-rank",{staticClass:"zone-rank",attrs:{config:t.config}})],1),i("new-comers",{attrs:{subtitleData:t.subtitleData,pushData:t.pushData,config:t.config}}),i("ranking",{staticClass:"zone-rank-gc",attrs:{config:t.config}})],1)},[],!1,null,null,null));Ii.options.__file="ZoneGuochuang.vue";var Ti=Ii.exports,Mi=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"anchor clearfix"},[e("a",{staticClass:"pic fl",attrs:{target:"_blank",href:"//h.bilibili.com"}},[e("img",{attrs:{src:i(519),alt:"有文画"}})]),e("a",{staticClass:"pic fr",attrs:{target:"_blank",href:"//vc.bilibili.com"}},[e("img",{attrs:{src:i(520),alt:"小视频"}})])])}],xi={components:{BiliImg:Q},props:{data:{default:{}}},computed:{systemCover:function(){return N(A(this.data.system_cover))}}},Ui=(i(521),Object(P.a)(xi,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-live-module"},[i("a",{attrs:{href:t._f("trimHttp")(t.data.link),target:"_blank"}},[i("div",{staticClass:"pic"},[i("bili-img",{attrs:{src:t.data.pic,alt:t.data.title,width:320,height:200}}),i("div",{staticClass:"snum"},[i("span",{staticClass:"auther"},[t._v(t._s(t.data.uname))]),i("span",{staticClass:"online"},[i("i"),t._v(t._s(t._f("formatNum")(t.data.online)))])]),i("div",{staticClass:"mask",style:"background-image: url("+t.systemCover+")"})],1),i("p",{staticClass:"t",attrs:{title:t.data.title}},[t._v(t._s(t.data.title))]),i("p",{staticClass:"num"},[t._v("\n\t\t\t\t"+t._s(t.data.area_v2_parent_name)+" · "+t._s(t.data.area_v2_name)+"\n\t\t\t")])])])},[],!1,null,null,null));Ui.options.__file="CardLive.vue";var ji={components:{CardLive:Ui.exports,BiliTab:Qe,Carousel:ce,BiliImg:Q,AdFloor:oi,Loading:ye},props:{config:{type:Object},dingCountData:{type:Object},adData:{type:Object}},data:function(){return{onlineCount:0,list:{},rankData:[],sliderData:[],anchorData:[],followData:[],fireData:{},tabConfig:[{name:"直播排行",value:0},{name:"关注的主播",value:1},{name:"为你推荐",value:2}],selectedTab:2,listLoadState:"loading",followLoadState:"loading",initCount:0}},computed:{count:function(){var t=0;return this.initCount&&this.dingCountData[this.config.tid]?t=this.dingCountData[this.config.tid]-this.initCount:this.initCount=this.dingCountData[this.config.tid],Math.abs(t)}},mounted:function(){var t=this;t.getRecomData(),t.getFollowData(),se.$on("reload-live-data",function(){t.getRecomData()}),se.$on("reload-live-follow-data",function(){t.getFollowData()})},methods:{selectTab:function(t){this.selectedTab=t,B("home_live_tab_"+t)},getRecomData:function(){var t=this;t.listLoadState="loading";var e="//api.live.bilibili.com/room/v1/RoomRecommend/biliIndexRecList";z({url:e,fallBackUrl:"//backup.hdslb.com/bfs/mainfront/liverecom.json",timeout:3e3,error:function(){B("tryCatchError",{api:e,desc:"首页直播模块接口"})}},!0).done(function(e){t.handleData(e)})},handleData:function(t){var e=this;if(t){var i=t;if(i&&0===i.code&&i.data){e.listLoadState="loaded",e.list=i.data.recommend,e.onlineCount=i.data.online_total,e.rankData=(i.data.ranking||[]).slice(0,6),e.anchorData=i.data.recommendAnchor,e.fireData=i.data.text_link||{};var a=[],n=i.data.preview;for(var o in n)a.push({name:n[o].title,url:n[o].url,pic:n[o].pic});e.sliderData=a,0===e.sliderData.length&&(e.selectedTab=0)}}},getFollowData:function(){var t=this;t.followLoadState="loading",z({url:"//api.live.bilibili.com/relation/v1/feed/feed_list?&pagesize=6&page=1",type:"GET",xhrFields:{withCredentials:!0}},!0).done(function(e){e&&-101===e.code&&(t.followLoadState="loaded"),e&&e.data&&e.data.list&&(t.followData=(e.data.list||[]).slice(0,6),t.followLoadState="loaded")}).fail(function(e){t.followLoadState="error"})},getNewDynamic:function(){var t=this;z({url:"//api.live.bilibili.com/room/v1/RoomRecommend/biliIndexRecMore",type:"GET"}).done(function(e){e&&0===e.code&&(t.list=e.data.recommend,t.onlineCount=e.data.online_total,t.initCount=0)}).fail(function(t){}),B("home_dynamic_number_"+this.config.type)}}},Ai=(i(523),Object(P.a)(ji,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"live-module clearfix"},[i("ad-floor",{attrs:{config:t.config,adData:t.adData}}),i("div",{staticClass:"l-con"},[i("div",{staticClass:"zone-title"},[i("div",{staticClass:"headline clearfix"},[i("i",{class:"icon icon_t icon-"+t.config.type}),i("a",{staticClass:"name",attrs:{href:t.config.morelink,target:"_blank"}},[t._v(t._s(t.config.name))]),i("p",{staticClass:"online"},[t._v("当前共有"),i("span",[t._v(t._s(t.onlineCount))]),t._v("个在线直播")]),i("a",{staticClass:"fire",attrs:{href:t._f("trimHttp")(t.fireData.link),target:"_blank"}},[i("i",{staticClass:"icon pmt-icon"}),t._v("\n  \t\t\t\t\t"+t._s(t.fireData.text)+"\n  \t\t\t\t")]),i("a",{staticClass:"link-more",attrs:{href:t.config.morelink,target:"_blank"}},[t._v("\n\t\t\t\t\t\t更多\n\t\t\t\t\t\t"),i("i",{staticClass:"icon"})]),t.count?i("div",{staticClass:"read-push",on:{click:t.getNewDynamic}},[i("i",{staticClass:"icon icon_read"}),i("span",{staticClass:"info"},[i("b",[t._v(t._s(t.count))]),t._v("条新动态")])]):t._e()])]),i("div",{staticClass:"storey-box clearfix"},[i("loading",{attrs:{data:t.list,state:t.listLoadState,reload:"reload-live-data"}}),t._l(t.list,function(t,e){return i("card-live",{key:e,attrs:{data:t}})})],2)]),i("div",{staticClass:"r-con"},[i("bili-tab",{staticClass:"bili-tab",attrs:{tabs:t.tabConfig,selected:t.selectedTab,useClick:!0},on:{selectTab:t.selectTab}}),i("div",{staticClass:"tab-box"},[i("div",{staticClass:"tab-con clearfix",style:"margin-left:-"+260*t.selectedTab+"px"},[i("div",{staticClass:"tab-item rank"},[i("loading",{attrs:{data:t.rankData,state:t.listLoadState,reload:"reload-live-data"}}),t._l(t.rankData,function(e,a){return i("div",{key:a,staticClass:"r-item"},[i("span",{staticClass:"number"},[t._v(t._s(a+1))]),i("a",{staticClass:"preview",attrs:{href:t._f("trimHttp")(e.link),target:"_blank"}},[i("bili-img",{attrs:{src:e.face,width:40,height:40}})],1),i("a",{attrs:{href:t._f("trimHttp")(e.link),target:"_blank"}},[i("div",{staticClass:"r-i"},[i("p",{staticClass:"r-i-t"},[i("span",{staticClass:"u-name"},[t._v(t._s(e.uname))]),i("span",{staticClass:"u-online"},[i("i"),i("em",[t._v(t._s(t._f("formatNum")(e.online)))])])]),i("div",{staticClass:"r-i-st",attrs:{title:e.title}},[t._v(t._s(e.title))])])])])})],2),i("div",{staticClass:"tab-item"},[i("loading",{attrs:{data:t.followData,state:t.followLoadState,reload:"reload-live-follow-data"}}),t._l(t.followData,function(e,a){return i("div",{key:a,staticClass:"r-item"},[i("a",{staticClass:"preview",attrs:{href:t._f("trimHttp")(e.link),target:"_blank"}},[i("bili-img",{attrs:{src:e.face,width:40,height:40}})],1),i("a",{attrs:{href:t._f("trimHttp")(e.link),target:"_blank"}},[i("div",{staticClass:"r-i"},[i("p",{staticClass:"r-i-t"},[i("span",{staticClass:"u-name"},[t._v(t._s(e.uname))]),i("span",{staticClass:"u-online"},[i("i"),i("em",[t._v(t._s(t._f("formatNum")(e.online)))])])]),i("div",{staticClass:"r-i-st",attrs:{title:e.title}},[t._v(t._s(e.title))])])])])})],2),i("div",{staticClass:"tab-item tuijian"},[i("loading",{attrs:{data:t.sliderData,state:t.listLoadState,reload:"reload-live-data"}}),i("div",{staticClass:"slider-box"},[i("carousel",{staticClass:"slider",attrs:{eventType:"mouseover",data:t.sliderData,width:260,height:248}})],1),t._m(0)],1)])])],1)],1)},Mi,!1,null,null,null));Ai.options.__file="ZoneLive.vue";var Si={components:{Zone:li,Bangumi:yi,Guochuang:Ti,Live:Ai.exports},props:{config:{type:Object},fireData:{type:Object},dingCountData:{type:Object},adData:{type:Object},promoteData:{type:Object}}},Ni=(i(525),Object(P.a)(Si,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"zone-wrap-module report-wrap-module report-scroll-module clearfix",attrs:{id:"bili_"+this.config.type}},[e(this.config.component,{tag:"component",attrs:{config:this.config,fireData:this.fireData,dingCountData:this.dingCountData,adData:this.adData,promoteData:this.promoteData}})],1)},[],!1,null,null,null));Ni.options.__file="ZoneWrap.vue";var Li=Ni.exports,Ji=[{type:"live",name:"正在直播",navName:"直播",tid:"live",morelink:"//live.bilibili.com/",component:"Live",ad:{active:!1}},{type:"douga",name:"动画",zid:1554,tid:1,morelink:"/v/douga",component:"Zone",ad:{active:!1}},{type:"bangumi",name:"番剧",alias:"番剧",zid:1556,tid:13,morelink:"//www.bilibili.com/anime/",component:"Bangumi",ad:{active:!1}},{type:"guochuang",name:"国创",alias:"国产动画",zid:1919,tid:168,morelink:"//www.bilibili.com/guochuang/",component:"Guochuang",ad:{active:!1}},{type:"music",name:"音乐",zid:1558,tid:3,morelink:"/v/music",component:"Zone",ad:{active:!1}},{type:"dance",name:"舞蹈",zid:1560,tid:129,morelink:"/v/dance",component:"Zone",ad:{active:!1}},{type:"game",name:"游戏",zid:1562,tid:4,morelink:"/v/game",component:"Zone",ad:{active:!1}},{type:"technology",name:"科技",zid:1624,tid:36,morelink:"/v/technology",component:"Zone",ad:{active:!1}},{type:"life",name:"生活",zid:1564,tid:160,morelink:"/v/life",component:"Zone",ad:{active:!1}},{type:"kichiku",name:"鬼畜",zid:1566,tid:119,morelink:"/v/kichiku",component:"Zone",ad:{active:!1}},{type:"fashion",name:"时尚",zid:1568,tid:155,morelink:"/v/fashion",component:"Zone",ad:{active:!1}},{type:"ad",name:"广告",zid:1636,tid:165,morelink:"/v/ad/ad/",component:"Zone",ad:{active:!1}},{type:"ent",name:"娱乐",zid:1570,tid:5,morelink:"/v/ent",component:"Zone",ad:{active:!1}},{type:"movie",name:"电影",zid:1572,tid:23,morelink:"/movie",component:"Zone",ad:{active:!1}},{type:"teleplay",name:"电视剧",navName:"TV剧",zid:1574,tid:11,morelink:"/tv",component:"Zone",ad:{active:!1}},{type:"cinephile",name:"影视",zid:2207,tid:181,morelink:"/v/cinephile",component:"Zone",ad:{active:!1}},{type:"documentary",name:"纪录片",zid:2257,tid:177,morelink:"/documentary",component:"Zone",ad:{active:!1}}],Ei=[{pos:0,dataLocId:40},{pos:2,dataLocId:42},{pos:4,dataLocId:44}],Bi={components:{BiliImg:Q},props:{data:{default:{}}}},Oi=(i(527),Object(P.a)(Bi,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-info-module"},[i("div",{staticClass:"v-title"},[t._v(t._s(t.data.title))]),i("div",{staticClass:"v-info"},[i("span",{staticClass:"name"},[t._v(t._s(t.data.author))]),i("span",{staticClass:"line"}),i("span",{staticClass:"time"},[t._v(t._s(t.data.create||t.data.created_at))])]),i("div",{staticClass:"v-preview clearfix"},[i("bili-img",{attrs:{src:t.data.pic,width:96,height:60}}),i("p",{staticClass:"txt"},[t._v(t._s(t.data.description))])],1),i("div",{staticClass:"v-data"},[i("span",{staticClass:"play"},[i("i",{staticClass:"icon"}),t._v(t._s(t._f("formatNum")(t.data.play)))]),i("span",{staticClass:"danmu"},[i("i",{staticClass:"icon"}),t._v(t._s(t._f("formatNum")(t.data.video_review)))]),i("span",{staticClass:"star"},[i("i",{staticClass:"icon"}),t._v(t._s(t._f("formatNum")(t.data.favorites)))]),i("span",{staticClass:"coin"},[i("i",{staticClass:"icon"}),t._v(t._s(t._f("formatNum")(t.data.coins)))])])])},[],!1,null,null,null));Oi.options.__file="CardVideoInfo.vue";var $i=Oi.exports,Vi={components:{BiliImg:Q,WatchLater:he},props:{data:{default:{}}}},Pi=(i(529),Object(P.a)(Vi,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"special-module"},[i("a",{staticClass:"pic",attrs:{href:"/video/av"+t.data.aid+"/",target:"_blank"}},[i("div",{staticClass:"pic-box"},[i("bili-img",{attrs:{src:t.data.pic,alt:t.data.title,width:160,height:100}}),i("watch-later",{staticClass:"w-later",attrs:{aid:t.data.aid}})],1),i("p",{staticClass:"title",attrs:{title:t.data.title}},[t._v(t._s(t.data.title))])]),i("div",{staticClass:"user"},[i("a",{attrs:{href:"//space.bilibili.com/"+t.data.last_recommend[0].mid,target:"_blank"}},[i("bili-img",{staticClass:"face",attrs:{src:t.data.last_recommend[0].face,width:49,height:49}}),i("span",{staticClass:"name"},[t._v(t._s(t.data.last_recommend[0].uname))])],1),i("span",{staticClass:"tag"},[t._v("推荐")])])])},[],!1,null,null,null));Pi.options.__file="CardSpecial.vue";var Ri={components:{Special:Pi.exports,BiliImg:Q,Loading:ye},props:{adData:{type:Object}},data:function(){return{list:{},state:"loading"}},computed:{adSource:function(){var t=this.adData[31]&&this.adData[31][0];return t||{}}},mounted:function(){var t=this;this.getSpecialData(),se.$on("reload-special-data",function(){t.getSpecialData()})},methods:{getSpecialData:function(){var t=this;t.state="loading",z({url:f.WWW+"/index/recommend.json",type:"GET",dataType:"json"}).done(function(e){e&&(t.list=e.list,t.state="loaded")}).fail(function(e){t.state="error"})}}},Qi=(i(531),Object(P.a)(Ri,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"special-recommend-module report-wrap-module report-scroll-module clearfix",attrs:{id:"special_recommend"}},[a("div",{staticClass:"l-con"},[t._m(0),a("div",{staticClass:"storey-box clearfix"},[a("loading",{attrs:{data:t.list,state:t.state,reload:"reload-special-data"}}),t._l(t.list,function(t,e){return a("special",{key:e,staticClass:"special",attrs:{data:t}})})],2)]),t.adSource.src_id?a("div",{staticClass:"r-con adpos",attrs:{"data-id":t.adSource.id,"data-loc-id":31}},[a("a",{directives:[{name:"ad",rawName:"v-ad",value:{data:t.adSource,id:31,report:!0},expression:"{data:adSource,id:31,report:true}"}],attrs:{target:"_blank"}},[a("bili-img",{attrs:{src:t.adSource.pic,alt:t.adSource.title,width:260,height:150}}),t.adSource.is_ad?a("img",{staticClass:"gg-pic",attrs:{src:i(73)}}):t._e()],1)]):t._e()])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"headline clearfix"},[e("i",{staticClass:"icon icon_t icon-special"}),e("a",{staticClass:"name",attrs:{href:"//www.bilibili.com/list/recommend/1.html"}},[this._v("特别推荐")])])}],!1,null,null,null));Qi.options.__file="SpecialRecommend.vue";var Fi=Qi.exports,Hi={data:function(){return{config:Ji,isEdit:!1,aDom:null,sortData:[],originalSortData:[],timer:null,appIconVal:0,appout:!1,floor:-1,sort:""}},computed:{sorts:function(){for(var t=[],e=0;e<this.originalSortData.length;e++){var i=this.originalSortData[e];t.push({sort:i,name:this.config[i].navName||this.config[i].name,type:this.config[i].type})}return t},sortNumber:function(){return this.config.length}},watch:{sortData:function(t){se.$emit("exchange-floor",t)}},mounted:function(){var t=this,e=this;$(document).on("mouseup.sortable",function(i){e.aDom&&t.isEdit&&(t.aDom.insertAfter(t.aDom.siblings(".hold")),t.aDom.removeClass("select").removeAttr("style").siblings(".hold").remove(),e.aDom=null,$(document).off("mousemove.sortable"),t.saveSort())}),e.initNavData(),UserStatus.onLoginOnce(function(t){t.isLogin&&e.getNavData()}),this.onScroll()},methods:{initNavData:function(){var t=[];t=window.localStorage&&window.localStorage.index_user_setting?this.getSortData(window.localStorage.index_user_setting):this.defaultSort(),this.sortData=t,this.originalSortData=t},defaultSort:function(){for(var t=[],e=0;e<this.config.length;e++)t[e]=e;return t},getNavData:function(){var t=this;z({url:f.WWW+"/widget/ajaxIndexSettings",type:"POST",dataType:"json",csrf:O}).done(function(e){if(e&&0===e.code){var i=window.localStorage&&window.localStorage.index_user_setting||"";e.settings!=i&&(window.localStorage&&"string"==typeof e.settings&&(window.localStorage.index_user_setting=e.settings),t.initNavData())}})},getSortData:function(t){var e;try{e=JSON.parse(t)}catch(t){return this.defaultSort()}return e.len===this.sortNumber?L.decode(e.sort,this.sortNumber):this.defaultSort()},setNavDataToDB:function(t){var e=L.encode(t,this.sortNumber);if(e!==this.sort){var i={sort:e,len:this.sortNumber};z({url:f.WWW+"/widget/ajaxIndexSettings",type:"POST",dataType:"json",data:{act:"set",settings:JSON.stringify(i)},csrf:O})}},setNavDataTolocalStorage:function(t){var e={sort:L.encode(t,this.sortNumber),len:this.sortNumber};window.localStorage&&(window.localStorage.index_user_setting=JSON.stringify(e))},saveSort:function(){var t=[];$(".nav-list .sortable").each(function(e,i){t[e]=parseInt($(i).attr("sortindex"))}),UserStatus.userInfo.isLogin&&this.setNavDataToDB(t),this.setNavDataTolocalStorage(t),this.sortData=t},onMouseDown:function(t){if(this.isEdit){this.aDom=$(t.target),this.aDom.addClass("select").after('<div class="item hold"></div>');var e=this,i=this.aDom.parent().offset().top,a=this.aDom.siblings(".sortable"),n=this.aDom.siblings(".hold"),o=t.clientY-this.aDom.offset().top;$(document).off("mousemove.sortable").on("mousemove.sortable",function(t){var s=t.clientY-o-i,r=t.pageY-n.offset().top>0;e.aDom.css({top:s}),a.each(function(i,a){e.hitTest($(a),t.pageY,function(t){e.exchange(n,$(a),r)})})})}},hitTest:function(t,e,i){var a=t.offset().top,n=t.height();e>a&&e<a+n&&i(t)},exchange:function(t,e,i){i?t.insertAfter(e):e.insertAfter(t)},onEdit:function(){var t=this;this.isEdit=!this.isEdit,this.isEdit?($('<div class="elevator-mask"></div>').off("click").on("click",function(e){t.isEdit=!1,t.closeEdit()}).fadeIn().appendTo($("body")),t.openEdit()):t.closeEdit()},openEdit:function(){$(".elevator-module .nav-bg").addClass("open"),B("home_floor_edit","open")},closeEdit:function(){$(".elevator-mask").fadeOut(function(){$(".elevator-mask").remove()}),$(".elevator-module .nav-bg").removeClass("open"),B("home_floor_edit","close")},appMoveclipOver:function(){$(".app-tips-icon").stop().fadeIn()},appMoveclipOut:function(){$(".app-tips-icon").stop().fadeOut()},goTop:function(t){$("body,html").animate({scrollTop:t},300),0===t&&B("home_gotop")},onClick:function(t){var e=$("#bili_"+t).offset().top;this.goTop(e-20),B("home_floor_bili_"+t)},onScroll:function(){var t=this;$(window).on("scroll.elevator",function(){var e=$(window).scrollTop(),i=($(window).height()-$(".elevator-module").height())/2,a=e<232?232:i<0?0:i;if($(".elevator-module").css("top",a),e<500)t.floor=-1;else{for(var n=[],o=0;o<t.sorts.length;o++){var s=$("#bili_"+t.sorts[o].type).offset().top,r=Math.abs(e-s);n[o]={d:r,i:o}}if(0!=n.length){var l=n.sort(function(t,e){return Math.abs(t.d-0)-Math.abs(e.d-0)})[0].i;t.floor=l||0}}})}}},Wi=(i(533),Object(P.a)(Hi,function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!=t.sorts.length?i("div",{staticClass:"report-wrap-module",class:t.isEdit?"elevator-module edit-state":"elevator-module"},[t._m(0),i("div",{staticClass:"nav-list"},[t._l(t.sorts,function(e,a){return i("div",{key:a,class:t.floor!==a||t.isEdit?"item sortable":"item sortable on",attrs:{sortindex:e.sort},on:{mousedown:t.onMouseDown,click:function(i){t.onClick(e.type)}}},[t._v(t._s(e.name))])}),i("div",{staticClass:"item customize",on:{click:t.onEdit}},[i("i",{staticClass:"icon"}),t._v("排序")])],2),i("div",{staticClass:"s-line"}),i("div",{staticClass:"back-top icon",on:{click:function(e){t.goTop(0)}}}),i("div",{staticClass:"app-download"},[i("a",{attrs:{href:"//app.bilibili.com/?channel=home_recommend",target:"_blank"}},[i("div",{directives:[{name:"mouse-movieclip",rawName:"v-mouse-movieclip",value:{step:80,max:16,point:9},expression:"{step:80,max:16,point:9}"}],staticClass:"app-icon",attrs:{id:"elevator-mobile-app"},on:{mouseover:t.appMoveclipOver,mouseout:t.appMoveclipOut}}),i("div",{staticClass:"app-tips-icon"})])])]):t._e()},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav-bg"},[e("div",{staticClass:"tips-img"})])}],!1,null,null,null));Wi.options.__file="Elevator.vue";var zi=Wi.exports,Xi={components:{BiliImg:Q},props:{data:Object},computed:{desc:function(){var t="";return t=1===this.data.is_finish?"已完结，全"+this.data.total_count+"话":1===this.data.is_started?isNaN(this.data.newest_ep_index)?"更新至"+this.data.newest_ep_index:parseInt(this.data.newest_ep_index)<0?"连载中":"连载中，更新至第"+this.data.newest_ep_index+"话":"即将开播",t}}},Gi=(i(535),Object(P.a)(Xi,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bangumi-info-module"},[i("div",{staticClass:"v-preview clearfix"},[i("bili-img",{staticClass:"cover",attrs:{src:t.data.square_cover,alt:t.data.title,width:"72",height:"72"}}),i("div",[i("p",{staticClass:"title"},[t._v(t._s(t.data.title))]),i("p",{staticClass:"desc",domProps:{textContent:t._s(t.desc)}})])],1),i("div",{staticClass:"v-data"},[i("span",{staticClass:"play"},[i("i",{staticClass:"icon"}),t._v(t._s(t._f("formatNum")(t.data.play_count)))]),i("span",{staticClass:"danmu"},[i("i",{staticClass:"icon"}),t._v(t._s(t._f("formatNum")(t.data.dm_count)))]),i("span",{staticClass:"fav"},[i("i",{staticClass:"icon"}),t._v(t._s(t._f("formatNum")(t.data.fav)))])])])},[],!1,null,null,null));Gi.options.__file="CardBangumi.vue";var qi=Gi.exports,Zi=i(52),Yi=i.n(Zi),Ki={components:{BiliImg:Q},props:{img:{},tagId:{},url:{}},data:function(){return{isSub:!1,subNum:""}},computed:{buttonTxt:function(){return this.isSub?"取消订阅":"订阅"}},mounted:function(){var t=this;z({url:f.API+"/x/tag/info",data:{tag_id:this.tagId,jsonp:"jsonp"},xhrFields:{withCredentials:!0},dataType:"json"}).done(function(e){0===e.code&&(t.isSub=1===e.data.is_atten,t.subNum=e.data&&e.data.count.atten)}).fail(function(){})},methods:{btnClick:function(){var t=this,e=this.isSub?f.API+"/x/tag/subscribe/cancel":f.API+"/x/tag/subscribe/add";!window.UserStatus||window.UserStatus.isLogin()?z({url:e,type:"POST",data:{jsonp:"jsonp",tag_id:t.tagId,csrf:k.get("bili_jct")},xhrFields:{withCredentials:!0}}).done(function(e){0===e.code?(t.isSub=!t.isSub,me({el:".promote-sub .ps__btn",msg:t.isSub?"订阅成功":"取消订阅成功"})):me({el:".promote-sub .ps__btn",msg:e.message})}).fail(function(){me({el:".promote-sub .ps__btn",msg:"订阅失败"})}):me({el:".promote-sub .ps__btn",msg:"请先登录"})}}},ta=(i(537),Object(P.a)(Ki,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"promote-sub"},[i("a",{staticClass:"ps__link",attrs:{href:t._f("trimHttp")(t.url),target:"_blank"}},[i("BiliImg",{staticClass:"ps__img",attrs:{src:t.img,width:250,height:100}})],1),i("div",{staticClass:"ps__act"},[i("span",{staticClass:"ps__subinfo"},[t._v("已有"),i("span",{domProps:{textContent:t._s(t.subNum)}}),t._v("人订阅该标签")]),i("div",{staticClass:"ps__btn",class:t.isSub?"ps__btn--unsub":"",on:{click:function(e){t.btnClick()}}},[t.isSub?t._e():i("i",{staticClass:"ps__icon--like"}),i("span",{domProps:{textContent:t._s(t.buttonTxt)}})])])])},[],!1,null,null,null));ta.options.__file="PromoteSub.vue";var ea,ia=(ea={components:{Spread:Ve,PromoteSub:ta.exports},data:function(){return{page:0,count:5}}},Yi()(ea,"data",function(){return{promoteData:[]}}),Yi()(ea,"computed",{source:function(){var t=this.page*this.count;return this.promoteData&&this.promoteData.list&&this.promoteData.list.slice(t,t+this.count)||[]},title:function(){return this.promoteData&&this.promoteData.name||""}}),Yi()(ea,"methods",{getPromoteData:function(){var t=this;z({url:f.WWW+"/index/data/promote-tag.json",type:"GET"}).done(function(e){e&&0===e.code&&e.list&&(t.promoteData=e)}).fail(function(t){})},resetPicUrl:function(t){return t&&t.pic&&(t.pic=0!=t.pic.indexOf("_")?t.pic.split("_")[0]:t.pic),t},changePush:function(){var t=this.promoteData&&this.promoteData.list&&this.promoteData.list.length||0;if(!(t<this.count)){var e=Math.ceil(t/this.count);this.page++,this.page>=e&&(this.page=0)}}}),Yi()(ea,"mounted",function(){this.getPromoteData()}),ea),aa=(i(539),Object(P.a)(ia,function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!=t.source.length?i("div",{staticClass:"promote-tag-module report-wrap-module report-scroll-module clearfix",attrs:{id:"promote_tag"}},[i("div",{staticClass:"l-con"},[i("div",{staticClass:"headline clearfix"},[i("span",{staticClass:"name"},[t._v(t._s(t.title))]),i("div",{staticClass:"change-push",on:{click:t.changePush}},[i("i",{staticClass:"icon icon_read"}),i("span",{staticClass:"info"},[t._v("换一批")])])]),i("div",{staticClass:"promote-box clearfix"},t._l(t.source,function(e,a){return i("spread",{key:e.aid,attrs:{data:t.resetPicUrl(e),viewStat:!1}})}))]),i("div",{staticClass:"r-con"},[i("promote-sub",{attrs:{img:t.promoteData.pic,tagId:t.promoteData.tag_id,url:t.promoteData.url}})],1)]):t._e()},[],!1,null,null,null));aa.options.__file="PromoteTag.vue";var na=aa.exports,oa={props:{show:{type:Boolean,default:!1},title:String,message:String,type:String},data:function(){return{closed:!1,visible:this.show}},watch:{show:function(t){this.visible=t}},methods:{close:function(){this.visible=!1,this.$emit("close")}}},sa=(i(541),Object(P.a)(oa,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[t.visible?i("div",{staticClass:"notification report-wrap-module"},[i("i",{staticClass:"notification-icon",class:"icon-"+t.type}),i("div",{staticClass:"notification-group",class:"notification-"+t.type},[i("div",{staticClass:"notification-message"},[i("h2",{staticClass:"notification-title",domProps:{textContent:t._s(t.title)}}),i("div",{staticClass:"notification-content",domProps:{innerHTML:t._s(t.message)}})]),i("div",{staticClass:"notification-closeBtn",on:{click:function(e){t.close()}}})])]):t._e()])},[],!1,null,null,null));sa.options.__file="Notification.vue";var ra={name:"app",components:{ChiefRecommend:Te,Popularize:Be,HeadTop:ie,ZoneWrap:Li,VideoInfo:$i,SpecialRecommend:Fi,Elevator:zi,PromoteTag:na,BangumiInfo:qi,notification:sa.exports,AppDownload:oe},data:function(){return{notification:null,zoneList:[],fireData:{},dingCountData:{},adData:null,pushTimer:null,pushTimerout:null,viewVideoCard:!1,viewBangumiCard:!1,viewAudioCard:!1,videoCardData:{},videoCardPos:"",adLoadState:"loading",showNotify:!1,notifyTitle:"异地登陆提醒",notifyMessage:"",notifyType:"login",showSnow:!1}},created:function(){var t=this;se.$on("show-card",function(e){t.viewVideoCard="video"===e.type,t.viewBangumiCard="bangumi"===e.type,t.viewAudioCard="audio"===e.type,t.videoCardData=e.data,t.videoCardPos="left:"+e.x+"px; top:"+e.y+"px;"}),se.$on("off-card",function(e){"video"===e.type?t.viewVideoCard=!1:"bangumi"===e.type?t.viewBangumiCard=!1:"audio"===e.type&&(t.viewAudioCard=!1)}),this.adData=this.$store.state.locsData},mounted:function(){window.__ADdata__&&(this.adData=window.__ADdata__);var t=this;for(var e in this.readSocketPush(),t.setNavFloor(),setTimeout(function(){t.getFireData(),t.checkNotify()},1e3),se.$emit("appMounted"),this.adData)for(var i=0;i<this.adData[e].length;i++)this.adData[e][i].is_ad_loc&&t.sendApidataData(this.adData[e][i],e)},methods:{getFireData:function(){for(var t=this,e="1550,",i=0;i<Ji.length;i++)Ji[i].zid&&(e+=Ji[i].zid+",");e=e.substring(0,e.length-1),z({url:f.API+"/x/web-show/res/locs",type:"GET",dataType:"jsonp",data:{pf:0,jsonp:"jsonp",ids:e}}).done(function(e){e&&0===e.code&&e.data&&(t.fireData=e.data)}).fail(function(t){})},getDingCountData:function(){var t=this;z({url:f.API+"/x/web-interface/dynamic/total",type:"GET",dataType:"jsonp",data:{jsonp:"jsonp"},jsonpCallback:"dynamic_total",cache:!0}).done(function(e){e&&0===e.code&&e.data&&(t.dingCountData=e.data)}).fail(function(t){})},getAdData:function(){var t=this,e=f.API+"/x/web-show/res/locs";z({url:e,fallBackUrl:"//backup.hdslb.com/bfs/mainfront/ad.json",type:"GET",dataType:"jsonp",timeout:3e3,data:{pf:0,jsonp:"jsonp",ids:"23,34,29,31,40,42,44"},error:function(){B("tryCatchError",{api:e,desc:"首页广告接口"})}}).done(function(e){if(e&&0===e.code&&e.data)for(var i in t.adData=e.data,t.adLoadState="loaded",e.data)for(var a=0;a<e.data[i].length;a++)e.data[i][a].is_ad_loc&&t.sendApidataData(e.data[i][a],i)})},readSocketPush:function(){var t=!0,e=this,i=function(){window.tabSocket&&window.tabSocket.addOperation({operation:1002,callback:function(t){e.dingCountData=t.data}})};i(),$("body").on("mousemove.readpush",function(){t?(clearTimeout(e.pushTimerout),e.pushTimerout=setTimeout(function(){t=!1,window.tabSocket.removeOperation(1002)},3e5)):(t=!0,i())})},setNavFloor:function(){var t=this;se.$on("exchange-floor",function(e){var i,a,n,o=[];for(i=0;i<e.length;i++)(n=Object.assign({},Ji[e[i]])).ad.active=!1,o.push(n);for(a=0;a<Ei.length;a++)o[Ei[a].pos].ad={active:!0,dataLocId:Ei[a].dataLocId};t.zoneList=o,t.$nextTick(function(){se.$emit("updateFloor")})})},sendApidataData:function(t,e){window.BiliCm&&window.BiliCm.Base&&"function"==typeof window.BiliCm.Base.sendApidataData?window.BiliCm.Base.sendApidataData(t,e):E("ad","sendApidataData not found")},checkNotify:function(){var t=this;window.onLoginInfoLoaded(function(e){e.isLogin&&z({url:f.API+"/x/member/security/status",type:"GET",dataType:"jsonp",data:{jsonp:"jsonp",mid:e.mid,uuid:k.get("buvid3")}}).done(function(i){i&&0===i.code&&i.data.notify&&i.data.log?(t.showNotify=!0,t.notifyMessage='您的账号在 "<a class="address" id="nonlocallogin_remindpc_address_click">'.concat(i.data.log.location,'</a>" 发生登录行为<br>如非本人操作，请 <a href="https://passport.bilibili.com/member/checkmailsetpassword.html" target="_blank" id="nonlocallogin_remindpc_changepassword_click">修改密码</a> ').concat(e.mobile_verified?"":'并 <a href="https://passport.bilibili.com/member/hasmailcheckmail.html" target="_blank" id="nonlocallogin_remindpc_bindphone_click">绑定手机</a>'),B("nonlocallogin_remindpc_show")):t.checkVerifyNotify()}).fail(function(){t.checkVerifyNotify()})},!0)},checkVerifyNotify:function(){var t=this,e=window.localStorage.getItem("verify_notify_expire"),i=(new Date).getTime();(!e||i>parseInt(e))&&z({url:"//api.bilibili.com/x/member/notice",type:"GET",dataType:"jsonp",data:{jsonp:"jsonp"}}).done(function(e){e&&0===e.code&&1===e.data.status&&(t.notifyType="verify",t.showNotify=!0,t.notifyTitle=e.data.title,t.notifyMessage=e.data.content),window.localStorage.setItem("verify_notify_expire",(new Date).getTime()+36e5)})},handleNotifyClose:function(){"login"===this.notifyType&&(B("nonlocallogin_remindpc_close"),z({url:"//api.bilibili.com/x/member/security/close?jsonp=jsonp",type:"POST",xhrFields:{withCredentials:!0},data:{mid:UserStatus.userInfo.mid,uuid:k.get("buvid3"),csrf:k.get("bili_jct")}})),"verify"===this.notifyType&&z({url:"//api.bilibili.com/x/member/notice/close?jsonp=jsonp",type:"POST",data:{csrf:k.get("bili_jct")},xhrFields:{withCredentials:!0}})}},asyncData:function(t){var e=t.dispatch,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.appname=["main.web-svr.web-interface"],Promise.all([e("RECOMMEND_DATA",i),e("LOCS_DATA",i)])}},la=(i(543),Object(P.a)(ra,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("HeadTop",{attrs:{navType:2,bannerData:t.adData&&t.adData[142]}}),i("app-download",{staticClass:"report-wrap-module",attrs:{id:"fixed_app_download"}}),i("div",{staticClass:"bili-wrapper"},[i("chief-recommend",{attrs:{adData:t.adData,state:t.adLoadState}}),i("popularize",{attrs:{fireData:t.fireData,adData:t.adData,state:t.adLoadState}}),i("promote-tag"),t._l(t.zoneList,function(e,a){return i("zone-wrap",{key:e.tid,attrs:{config:e,fireData:t.fireData,dingCountData:t.dingCountData,adData:t.adData}})}),i("special-recommend",{attrs:{adData:t.adData}})],2),i("elevator"),t.viewVideoCard?i("video-info",{style:t.videoCardPos,attrs:{data:t.videoCardData}}):t._e(),t.viewBangumiCard?i("bangumi-info",{style:t.videoCardPos,attrs:{data:t.videoCardData}}):t._e(),i("notification",{attrs:{show:t.showNotify,title:t.notifyTitle,message:t.notifyMessage,type:"warning"},on:{close:t.handleNotifyClose}})],1)},[],!1,null,null,null));la.options.__file="App.vue";var ca=la.exports;function da(t){"string"==typeof t?B(t):B(t.name,t.ops)}a.a.filter("formatDuration",function(t){return j(t)}),a.a.filter("formatDate",function(t){return function(t){if(t){var e=new Date(t);return e.getFullYear()+"-"+U(e.getMonth()+1)+"-"+U(e.getDate())}}(t)}),a.a.filter("formatDateTime",function(t){return function(t){if(t){var e=new Date(t);return e.getFullYear()+"-"+U(e.getMonth()+1)+"-"+U(e.getDate())+" "+U(e.getHours())+":"+U(e.getMinutes())+":"+U(e.getSeconds())}}(t)}),a.a.filter("formatNum",function(t){return function(t){return parseInt(t)<0||null==t||void 0==t?"--":-1!=String(t).indexOf(".")||-1!=String(t).indexOf("-")?t:0===parseInt(t)?0:(t=parseInt(t))>=1e4&&t<1e8?(t/1e4).toFixed(1)+"万":t>=1e8?(t/1e8).toFixed(1)+"亿":t}(t)}),a.a.filter("trimHttp",function(t){return A(t)}),a.a.directive("mouse-movieclip",{bind:function(t,e){var i=e.value,a=0,n=0,o=!1,s=i.target?$(t).find(i.target):$(t),r=i.direction?i.direction:"x",l=i.speed?i.speed:80;t.addEventListener("mouseenter",function(){o=!0,n=0,clearInterval(t.timer);var e={};t.timer=setInterval(function(){a=-n*i.step,"x"===r&&(e={"background-position-x":a}),"y"===r&&(e={"background-position-y":a}),$(s).css(e),o?++n>i.max-1&&(n=i.point):--n<0&&clearInterval(t.timer)},l)}),t.addEventListener("mouseleave",function(){o=!1})}}),a.a.directive("longClick",{bind:function(t,e){t.addEventListener("mousedown",function(){t.isPressing=!0;var i=e.value;t.timer=setTimeout(function(){t.isPressing&&i()},e.arg)})}}),a.a.directive("longClickLeave",{bind:function(t,e){t.addEventListener("mouseup",function(){t.isPressing&&(clearTimeout(t.timer),t.isPressing=!1,e.value())}),t.addEventListener("mouseleave",function(){t.isPressing&&(clearTimeout(t.timer),t.isPressing=!1,e.value())})}}),a.a.directive("report",{bind:function(t,e){t.addEventListener(e.arg,function(){var t=e.value;t instanceof Array?t.forEach(function(t){return da(t)}):da(t),e.modifiers.self&&window.reportObserver.forceCommit()})}}),a.a.directive("focus",{inserted:function(t){t.focus()}});var ua=["scroll","resize","load"];function ma(t,e){var i,a;for(i=0,a=t.length;i<a;++i)if(t[i].el===e)return i;return-1}var pa={install:function(t,e){var i=[],a=[],n=e||{preload:0};function o(t){t.loading||t.loaded||!M(t.el,n.preload)||function(t){if(t.loading||t.loaded)return;t.loading=!0;var e=new Image;e.onload=function(){t.el.src=t.src,t.loading=!1,t.loaded=!0},e.onerror=function(){t.loading=!1,t.loaded=!0,t.el.src=t.defaultImg},e.src=t.src}(t)}function s(t){!t.loaded&&M(t.el,n.preload)&&(t.handler.call(),t.loaded=!0)}function r(e,n){var r=C()(e);"string"===r?function(e,a){var n=ma(i,a),s={el:a,src:e,loading:!1,loaded:!1,defaultImg:a.getAttribute("src")};-1!==n?i[n]=s:i.push(s),t.nextTick(function(){o(s)})}(e,n):"object"===r&&function(e,i){var n=ma(a,i),o={el:i,id:e.id,loaded:!1,handler:e.handler||function(){}};-1!==n?a[n].id!==e.id&&(a[n]=o,t.nextTick(function(){s(o)})):(a.push(o),t.nextTick(function(){s(o)}))}(e,n)}t.directive("lazy",{bind:function(t,e){r(e.value,t)},update:function(t,e){r(e.value,t)},componentUpdated:function(t,e){},unbind:function(t,e){var i=e.value;if("object"===C()(i)){var n=ma(a,t);-1!==n&&a.splice(n,1)}}});for(var l=x(function(){!function(){var t,e;for(t=0,e=i.length;t<e;++t)o(i[t])}(),function(){var t,e;for(t=0,e=a.length;t<e;++t)s(a[t])}()},200,100),c=0;c<ua.length;++c)window.addEventListener(ua[c],l);se.$on("updateFloor",function(){l()}),se.$on("appMounted",function(){l()})}},fa=["scroll","resize","load"];function ha(t,e){window.BiliCm&&window.BiliCm.Base&&"function"==typeof window.BiliCm.Base.sendShowData?window.BiliCm.Base.sendShowData(t,e):E("ad","sendShowData not found")}function va(t,e){window.BiliCm&&window.BiliCm.Base&&"function"==typeof window.BiliCm.Base.sendStrictShowData?window.BiliCm.Base.sendStrictShowData(t,e):E("ad","sendStrictShowData not found")}function ga(t,e){t.setAttribute("href",A(function(t,e){return window.BiliCm&&window.BiliCm.Base&&"function"==typeof window.BiliCm.Base.getSyncUrl?window.BiliCm.Base.getSyncUrl(t,e):(E("ad","getSyncUrl not found"),"")}(e.data,e.id)||"")),t.setAttribute("data-target-url",e.data.url)}var wa={install:function(t,e){var i={},a=[2624];for(var n in w)w[n].locid&&a.push(w[n].locid);t.directive("ad",{bind:function(t,e){var n=e.value;if(n.data&&n.id){n.data.is_ad_loc&&ga(t,n),t.addEventListener("click",function(){!function(t,e){window.BiliCm&&window.BiliCm.Base&&"function"==typeof window.BiliCm.Base.sendClickData?window.BiliCm.Base.sendClickData(t,e):E("ad","sendClickData not found")}(n.data,n.id)});var o=n.data.id||n.data.src_id;-1===a.indexOf(n.id)&&(i[o]={el:t,data:n.data,id:n.id,nowShow:!1})}},update:function(t,e){var i=e.value;i.data&&i.data.is_ad_loc&&ga(t,i)},componentUpdated:function(t,e){},unbind:function(t,e){}});for(var o=x(function(){for(var t=Object.keys(i),e=function(e,a){var n=t[e],o=i[n].el&&i[n].el.offsetHeight;M(i[n].el,o/2*-1)&&(i[n].nowShow||(i[n].nowShow=!0,ha(i[n].data,i[n].id)),i[n].timer&&clearTimeout(i[n].timer),i[n].timer=setTimeout(function(){clearTimeout(i[n].timer),M(i[n].el,o/2*-1)&&(va(i[n].data,i[n].id),delete i[n])},1e3))},a=0,n=t.length;a<n;++a)e(a)},200,100),s=0;s<fa.length;++s)window.addEventListener(fa[s],o);se.$on("adReport",o);var r={};se.$on("slideShow",function(t){if(t.data&&t.id&&t.el){var e=$(t.el).height()/2*-1;M(t.el,e)&&ha(t.data,t.id),r.index=t.index,r.timer=setTimeout(function(){clearTimeout(r.timer),M(t.el,e)&&t.index===r.index&&va(t.data,t.id)},1e3)}})}},ba=[];se.$on("card-groom-show",function(t){-1===ba.indexOf(t.aid)&&(ba.push(t.aid),B("card-groom-show-"+t.index,t))}),se.$on("card-groom-click",function(t){B("card-groom-click-"+t.index,t)}),a.a.use(pa,{preload:100}),a.a.use(wa),a.a.use(n.a);var _a=new n.a({mode:"history",routes:[{path:"/",component:ca},{path:"/index.html",component:ca}]});window&&window.onLoginInfoLoaded&&window.onLoginInfoLoaded(function(t){$.ajax({url:"//data.bilibili.com/v/web/web_page_view",type:"GET",xhrFields:{withCredentials:!0},data:{mid:t.isLogin?t.mid:"",fts:k.get("fts")||"",url:window.location.href,proid:1,ptype:1,module:"main",title:document.title,ajaxtag:"",ajaxid:"",page_ref:document.referrer}})}),a.a.mixin({beforeRouteUpdate:function(t,e,i){var a=this.$options.asyncData;a?a({store:this.$store,route:t}).then(i).catch(i):i()}});var ya=function(t){return{app:new a.a({store:v,router:_a,ssrContext:t,render:function(t){return t(ca)}}),router:_a,store:v}}(),Ca=ya.app,ka=ya.router,Da=ya.store;if(window.__INITIAL_STATE__)window.__ADdata__&&(window.__INITIAL_STATE__.locsData[34]=window.__ADdata__[34]),Da.replaceState(window.__INITIAL_STATE__);else{var Ia=ka.getMatchedComponents();Promise.all(Ia.map(function(t){return t.asyncData&&t.asyncData(Da)})).then(function(){Ca.$mount("#home-app")}).catch()}ka.onReady(function(){ka.beforeResolve(function(t,e,i){var a=ka.getMatchedComponents(t),n=ka.getMatchedComponents(e),o=!1,s=a.filter(function(t,e){return o||(o=n[e]!==t)});if(!s.length)return i();Promise.all(s.map(function(e){if(e.asyncData)return e.asyncData({store:Da,route:t})})).then(function(){i()}).catch(i)}),window&&window.document.getElementById("app")&&Ca.$mount("#app")})},73:function(t,e,i){t.exports=i.p+"asserts/cm_2.png"},74:function(t,e,i){},75:function(t,e,i){},76:function(t,e,i){},77:function(t,e,i){},78:function(t,e,i){},79:function(t,e,i){},80:function(t,e,i){},81:function(t,e,i){},82:function(t,e,i){},83:function(t,e,i){},84:function(t,e,i){},85:function(t,e,i){},86:function(t,e,i){},87:function(t,e,i){},88:function(t,e,i){},89:function(t,e,i){},90:function(t,e,i){},91:function(t,e,i){},92:function(t,e,i){},93:function(t,e,i){},94:function(t,e,i){},95:function(t,e,i){},96:function(t,e,i){},97:function(t,e,i){},98:function(t,e,i){},99:function(t,e,i){}});